<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="这里是二月鸟的自留地，用来记录技术总结、读书笔记、日常杂事等">
<meta name="keywords" content="linux, 读书笔记, 生活">
<meta property="og:type" content="website">
<meta property="og:title" content="二月鸟的自留地">
<meta property="og:url" content="https://thinknotes.cn/index.html">
<meta property="og:site_name" content="二月鸟的自留地">
<meta property="og:description" content="这里是二月鸟的自留地，用来记录技术总结、读书笔记、日常杂事等">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="二月鸟的自留地">
<meta name="twitter:description" content="这里是二月鸟的自留地，用来记录技术总结、读书笔记、日常杂事等">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://thinknotes.cn/"/>





  <title>二月鸟的自留地</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">二月鸟的自留地</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">live,love,life</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://thinknotes.cn/2018/10/21/promo_code_200/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dreampython">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="二月鸟的自留地">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/21/promo_code_200/" itemprop="url">生成 200 个激活码（或者优惠券）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-21T00:00:00+08:00">
                2018-10-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python练习册/" itemprop="url" rel="index">
                    <span itemprop="name">Python练习册</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>第 0001 题： 做为 Apple Store App 独立开发者，你要搞限时促销，为你的应用生成激活码（或者优惠券），使用 Python 如何生成 200 个激活码（或者优惠券）？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># author: ywx556386</span></span><br><span class="line"><span class="comment"># date: 2018-10-21</span></span><br><span class="line"><span class="comment"># description： 生成200个促销码</span></span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment">#产生促销码数据源</span></span><br><span class="line">source_list = []</span><br><span class="line"><span class="comment"># 促销码位数</span></span><br><span class="line">number = <span class="number">10</span></span><br><span class="line"><span class="comment"># 存储200个促销码的list</span></span><br><span class="line">promo_code_list = []</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen_promo_code</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 包含大小写的26个字母、0-9的列表</span></span><br><span class="line">    source_list = list(string.ascii_letters+string.digits)</span><br><span class="line">    <span class="comment"># 随机返回number位的字符串</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">''</span>.join(random.sample(source_list,number))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成200个促销码</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">200</span>):</span><br><span class="line">    promo_code_list.append(gen_promo_code())</span><br><span class="line"></span><br><span class="line">print(promo_code_list)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://thinknotes.cn/2018/10/21/count_number_of_english_words/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dreampython">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="二月鸟的自留地">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/21/count_number_of_english_words/" itemprop="url">统计纯文本文件每个英文单词出现的频率</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-21T00:00:00+08:00">
                2018-10-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python练习册/" itemprop="url" rel="index">
                    <span itemprop="name">Python练习册</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>第 0004 题： 任一个英文的纯文本文件，统计其中的单词出现的个数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># author: ywx556386</span></span><br><span class="line"><span class="comment"># date: 2018-10-21</span></span><br><span class="line"><span class="comment"># description： 统计文章中每个英文单词出现的频率</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># 文章原始单词列表</span></span><br><span class="line">source_words = []</span><br><span class="line"><span class="comment"># 文章每个单词出现频率统计字典</span></span><br><span class="line">count_of_words = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#读取文件并以空格符作为分隔符存储在列表中</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_file</span><span class="params">(artical)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> open(artical) <span class="keyword">as</span> file:</span><br><span class="line">        content = file.read()</span><br><span class="line">    <span class="keyword">return</span> content.split()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="keyword">if</span> len(sys.argv) &gt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> sys.argv[<span class="number">1</span>] <span class="keyword">and</span> os.path.exists(sys.argv[<span class="number">1</span>]):</span><br><span class="line">             <span class="comment"># 待处理文件</span></span><br><span class="line">            <span class="comment">#artical = './DevOps_RoadMap.txt'</span></span><br><span class="line">            artical = sys.argv[<span class="number">1</span>]</span><br><span class="line">            source_words = read_file(artical)</span><br><span class="line">            <span class="keyword">for</span> word <span class="keyword">in</span> source_words:</span><br><span class="line">                <span class="keyword">if</span> count_of_words.get(word):</span><br><span class="line">                    count_of_words[word] += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    count_of_words[word] = <span class="number">1</span></span><br><span class="line">            <span class="comment">#无排序输出</span></span><br><span class="line">            <span class="comment">#print(count_of_words)</span></span><br><span class="line">            <span class="comment">#按照word出现的频率排序</span></span><br><span class="line">            print(sorted(count_of_words.items(), key=<span class="keyword">lambda</span> d: d[<span class="number">1</span>], reverse=<span class="keyword">True</span>))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'请检查输入的文件名及路径是否正确'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'请输入要处理的文件名，E.g: python count_number_of_english_words.py ./Devops_RoadMap.txt'</span>)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://thinknotes.cn/2018/10/17/add_number_on_image/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dreampython">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="二月鸟的自留地">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/17/add_number_on_image/" itemprop="url">给图片右上角添加红色的数字</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-17T00:00:00+08:00">
                2018-10-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python练习册/" itemprop="url" rel="index">
                    <span itemprop="name">Python练习册</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>第 0000 题： 将你的 QQ 头像（或者微博头像）右上角加上红色的数字，类似于微信未读信息数量那种提示效果。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!  /usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># author: ywx556386</span></span><br><span class="line"><span class="comment"># date: 2018-10-17</span></span><br><span class="line"><span class="comment"># 在图片上添加数字</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image, ImageDraw, ImageFont</span><br><span class="line"><span class="keyword">import</span> os,sys</span><br><span class="line"></span><br><span class="line"><span class="comment">#要在图片上添加的数字</span></span><br><span class="line">added_number = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> len(sys.argv) &gt; <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">if</span> sys.argv[<span class="number">1</span>] <span class="keyword">and</span> os.path.exists(sys.argv[<span class="number">1</span>]):</span><br><span class="line">        sourceFileName = sys.argv[<span class="number">1</span>]</span><br><span class="line">        rawimage = Image.open(sourceFileName)</span><br><span class="line">        drawimage = ImageDraw.Draw(rawimage)</span><br><span class="line"></span><br><span class="line">        xSize, ySize = rawimage.size</span><br><span class="line">        fontSize = min(xSize,ySize) // <span class="number">11</span></span><br><span class="line"></span><br><span class="line">        myFont = ImageFont.truetype(<span class="string">"./arial.ttf"</span>,fontSize)</span><br><span class="line">        drawimage.text([<span class="number">0.9</span> * xSize, <span class="number">0.1</span> * ySize -fontSize], str(added_number), fill = (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>),font=myFont)</span><br><span class="line">        <span class="keyword">del</span> drawimage</span><br><span class="line">        <span class="comment">#rawimage.show()</span></span><br><span class="line">        outfile = os.path.splitext(sourceFileName)[<span class="number">0</span>] + <span class="string">'_'</span> + str(added_number) + <span class="string">'.jpeg'</span></span><br><span class="line">        rawimage.save(outfile, <span class="string">'jpeg'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'请确认输入域的图片名称及路径是否正确'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'请输入要添加数字的图片名称,E.g: python add_number_on_image.py ./xxx.jpg'</span>)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://thinknotes.cn/2018/10/03/replace_linespace/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dreampython">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="二月鸟的自留地">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/03/replace_linespace/" itemprop="url">python脚本：删除行内所有空格</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-03T00:00:00+08:00">
                2018-10-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/我爱编程/" itemprop="url" rel="index">
                    <span itemprop="name">我爱编程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#/usr/bin/env python</span></span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">该脚本用于删除文件每行中存在的空格;尤其是从kindle中复制出来的的笔记带有很多空格符，手动去除很麻烦，所以写了这个脚本</span></span><br><span class="line"><span class="string">auther: dreampython</span></span><br><span class="line"><span class="string">date: 2018-10-3</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">replace</span><span class="params">()</span>:</span></span><br><span class="line">    pattern = <span class="string">r'\s+'</span></span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">'notes_read_Country_Driving.md'</span>,encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        lines = f.readlines()</span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">            print(re.sub(pattern,<span class="string">''</span>,line))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    replace()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://thinknotes.cn/2018/10/02/using_hexo_and_next_theme/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dreampython">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="二月鸟的自留地">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/02/using_hexo_and_next_theme/" itemprop="url">安装hexo和next主题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-02T00:00:00+08:00">
                2018-10-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术笔记/" itemprop="url" rel="index">
                    <span itemprop="name">技术笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="一、linux系统下安装hexo"><a href="#一、linux系统下安装hexo" class="headerlink" title="一、linux系统下安装hexo"></a>一、linux系统下安装hexo</h2><p>参考<a href="https://hexo.io/docs/" target="_blank" rel="noopener">hexo官方文档</a>安装即可</p>
<h2 id="二、更换hexo默认主题"><a href="#二、更换hexo默认主题" class="headerlink" title="二、更换hexo默认主题"></a>二、更换hexo默认主题</h2><p>使用了<a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">next主题</a></p>
<p>###下载安装next主题</p>
<p>进入你的hexo博客所在目录执行以下命令（命令来自next github页面）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir themes/next</span><br><span class="line">curl -s https://api.github.com/repos/iissnan/hexo-theme-next/releases/latest | grep tarball_url | cut -d <span class="string">'"'</span> -f <span class="number">4</span> | wget -i - -O- | tar -zx -C themes/next --strip-components=<span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="修改主题"><a href="#修改主题" class="headerlink" title="修改主题"></a>修改主题</h3><p>修改你的hexo博客所在目录下的“_config.yml”配置文件，将theme: 后面的内容修改为next</p>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>增加内容后可以使用以下命令进行测试修改,浏览器中默认预览地址： <a href="http://ip:4000" target="_blank" rel="noopener">http://ip:4000</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server --debug</span><br></pre></td></tr></table></figure>
<h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><p>测试没有问题后，使用以下命令产生静态文件并部署，一般使用nginx进行代理访问</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>
<p>如出现缓存引起的异常，可以在生成命令前执行清除缓存命令: hexo clean</p>
<p>参考<a href="https://github.com/iissnan/hexo-theme-next/blob/master/README.cn.md" target="_blank" rel="noopener">hexo主题next的中文readme</a>安装配置了next主题</p>
<h3 id="nginx静态页面托管配置"><a href="#nginx静态页面托管配置" class="headerlink" title="nginx静态页面托管配置"></a>nginx静态页面托管配置</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="attribute">server_name</span> thinknotes.cn; <span class="comment"># managed by Certbot</span></span><br><span class="line">    <span class="attribute">root</span>         &lt;blog所在目录绝对路径&gt;/public/;</span><br><span class="line">    <span class="attribute">index</span>        index.html;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span> &lt;blog所在目录绝对路径&gt;/public;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="三、配置相关"><a href="#三、配置相关" class="headerlink" title="三、配置相关"></a>三、配置相关</h2><h3 id="使用next主题时md文件注意事项"><a href="#使用next主题时md文件注意事项" class="headerlink" title="使用next主题时md文件注意事项"></a>使用next主题时md文件注意事项</h3><ol>
<li>每篇md文件的title、date、tag、category等需要放在两个—之间</li>
<li>多个tag需要使用格式 tag: [tag1, tag2, tag3]</li>
<li>修改hexo博客目录下_config.yml文件中的language选项可修改博客语言，具体值参考使用主题页面的值</li>
<li>通过注释和取消next主题目录下的_config.yml文件中的scheme的注释可以更换next的样式，总共有4种可供更换，修改后需要重启hexo服务</li>
<li>通过注释和取消next主题目录下的_config.yml文件中menu下的内容可以打开或关闭相应的菜单功能，修改后需要重启hexo服务</li>
</ol>
<h3 id="代码显示配置"><a href="#代码显示配置" class="headerlink" title="代码显示配置"></a>代码显示配置</h3><ol>
<li>主题的_config.yml文件<ul>
<li>你的blog/themes/next/_config.yml中找到highlight_theme: 将后面的值分别更改为normal | night | night eighties | night blue | night bright 中的任何一个，看自己喜欢那种就选哪一种；</li>
</ul>
</li>
<li>站点的_config.yml文件<ul>
<li>修改站点的_config.yml文件中的hightlight，将其中的auto_detect设置为true</li>
</ul>
</li>
<li>代码块的语言标注,注意： 三个点是英文输入法下敲击esc键下面的键三次，不是单引号</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''Python</span></span><br><span class="line"><span class="string">code here</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>
<h3 id="评论区配置"><a href="#评论区配置" class="headerlink" title="评论区配置"></a>评论区配置</h3><p>使用来比力，参考<a href="https://blog.csdn.net/ganzhilin520/article/details/79048010" target="_blank" rel="noopener">hexo添加评论功能</a></p>
<p>使用邮箱注册，选择免费的city版本，将获取的uuid粘贴到：你的blog/themes/next/_config.yml字段livere_uid的值中</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://thinknotes.cn/2018/06/27/static-blog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dreampython">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="二月鸟的自留地">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/27/static-blog/" itemprop="url">static-blog</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-27T00:00:00+08:00">
                2018-06-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre>
import sys
from flask import Flask, render_template
from flask_flatpages import FlatPages, pygments_style_defs
from flask_frozen import Freezer

DEBUG = True
FLATPAGES_AUTO_RELOAD = DEBUG
FLATPAGES_EXTENSION = '.md'
FLATPAGES_ROOT = 'content'
POST_DIR = 'posts'

app = Flask(__name__)
flatpages = FlatPages(app)
freezer = Freezer(app)
app.config.from_object(__name__)


@app.route("/")
def posts():
    posts = [p for p in flatpages if p.path.startswith(POST_DIR)]
    posts.sort(key=lambda item:item['date'], reverse=True)
    return render_template('posts.html', posts=posts)

@app.route("/about")
def about():
    return render_template('about.html')

@app.route("/search")
def search():
    return render_template('self-define-search.html')

@app.route('/posts/<name>/')
def post(name):
    path = '{}/{}'.format(POST_DIR, name)
    post = flatpages.get_or_404(path)
    return render_template('post.html', post=post)



if __name__ == "__main__":
    if len(sys.argv) > 1 and sys.argv[1] == "build":
        freezer.freeze()
    else:
        app.run(host='0.0.0.0', debug=True)
</name></pre>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://thinknotes.cn/2018/06/24/little-dog-qianqian/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dreampython">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="二月鸟的自留地">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/24/little-dog-qianqian/" itemprop="url">《小狗钱钱》读书笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-24T00:00:00+08:00">
                2018-06-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/读书笔记/" itemprop="url" rel="index">
                    <span itemprop="name">读书笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="富有和孩子"><a href="#富有和孩子" class="headerlink" title="富有和孩子"></a>富有和孩子</h3><ol>
<li>这本书让我想起了我最喜爱的一句话：如果你想富有，请把自己变成一个小孩。因为小孩子的框框最少，他们诚实、快乐、乐于学习。</li>
</ol>
<h3 id="钱重不重要"><a href="#钱重不重要" class="headerlink" title="钱重不重要"></a>钱重不重要</h3><ol start="2">
<li>我也不认为钱是人一生中最重要的东西。可是假如我们缺钱的话，钱就会变得格外重要。</li>
</ol>
<h3 id="不要让好奇阻碍你做事"><a href="#不要让好奇阻碍你做事" class="headerlink" title="不要让好奇阻碍你做事"></a>不要让好奇阻碍你做事</h3><p>3.钱钱立刻说：“好奇是好的，但是绝不能让好奇阻碍你做事。太多的人做事犹豫不决，就是因为他们觉得没有完全弄懂这件事。真正付诸实践要比纯粹的思考有用多了。”</p>
<h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><p>我立即听见了钱钱的回答，“学习就是认识新观念和新想法的过程。假如人们始终以同一种思维方式来考虑问题的话，那么始终只会得到同样的结果。因为我对你讲述的许多内容是你以前从未接触过的，所以我建议你，在你还没有做之前，不要轻易下结论。没有想象力的人是很难成就大事的。我们对一件事投入的精力越多，成功的可能性也越大。可是大多数人把精力放在自己并不喜欢的事情上，而不去想象自己希望得到的东西。”</p>
<h3 id="收入与支出的关系"><a href="#收入与支出的关系" class="headerlink" title="收入与支出的关系"></a>收入与支出的关系</h3><p>我们的支出永远是随着我们的收入而增长的。</p>
<h3 id="是否能挣到钱一个非常重要的道理"><a href="#是否能挣到钱一个非常重要的道理" class="headerlink" title="是否能挣到钱一个非常重要的道理"></a>是否能挣到钱一个非常重要的道理</h3><ol>
<li>我先要告诉你一个非常重要的道理：你是否能挣到钱，最关键的并不是你有没有好点子，也不是你有多聪明，而是你的自信程度。”</li>
<li>钱钱一脸严肃地直立起来，它是在向我表明，这是非常重要的内容：“你的自信程度决定了你是否相信自己的能力，是否相信你自己。假如你根本不相信你能做到的话，那么你就根本不会动手去做，而假如你不开始去做，那么你就什么也得不到。”</li>
</ol>
<p>##成功日记建立自信<br>你去准备一个本子，给它取名叫‘成功日记’，然后把所有做成功的事情记录进去。你最好每天都做这件事，每次都写至少5条你的个人成果，任何小事都可以。开始的时候也许你觉得不太容易，可能会问自己，这件或那件事情是否真的可以算作成果。在这种情况下，你的回答应该是肯定的。过于自信比不够自信要好得多。”</p>
<p>“恐惧总是出现在我们设想事情会如何不顺的时候。我们对失败的可能性想得越多，就会越害怕。而当你看着自己的成功日记时，你就会注意到那些成功的事情，自然而然也就会想到应该怎样去做。”</p>
<p>“当你朝着积极的目标去思考的时候，就不会心生畏惧。”</p>
<h2 id="投资俱乐部"><a href="#投资俱乐部" class="headerlink" title="投资俱乐部"></a>投资俱乐部</h2><h3 id="咒语"><a href="#咒语" class="headerlink" title="咒语"></a>咒语</h3><p>最后，我们决定采用莫尼卡的主意：“金钱魔法师”。我们一致认为，只要学会了我们的咒语，就可以从无到有地变出钱来。我们的咒语是：</p>
<ol>
<li>确定自己希望获得财务上的成功。</li>
<li>自信，有想法，做自己喜欢做的事。</li>
<li>把钱分成日常开销、梦想目标和金鹅账户三部分。</li>
<li>进行明智的投资。</li>
<li>享受生活。</li>
</ol>
<h3 id="规定"><a href="#规定" class="headerlink" title="规定"></a>规定</h3><p>接着，老太太很严肃地说：“我们需要一些规定，来保证我们的投资俱乐部能取得成功。我把这些规定写在第二页上了。”我们立即翻过第一页，读了起来： </p>
<ol>
<li>每月聚会一次。</li>
<li>出席会议是每个成员的义务。</li>
<li>每人都要交出一定数额的现金。</li>
<li>不得将该钱取出，因为我们希望“鹅”长大。</li>
<li>所有的决策由全体成员共同作出。</li>
</ol>
<h3 id="应该把钱投资在什么地方"><a href="#应该把钱投资在什么地方" class="headerlink" title="应该把钱投资在什么地方"></a>应该把钱投资在什么地方</h3><ol>
<li>应该把钱投资在安全的地方</li>
<li>我的钱应该下很多“金蛋”</li>
<li>我们的投资应该简单明了</li>
</ol>
<h3 id="什么是股票"><a href="#什么是股票" class="headerlink" title="什么是股票"></a>什么是股票</h3><p>“你们设想一下，”老太太继续说，“假设马塞尔花2500马克为他的面包派送业务买一台电脑，就会大大减轻他的工作量，还可以节省很多时间。可是他不想为此花自己的钱。这样的话，他可以借钱。一个选择是向银行借，也就是贷一笔款，可是那样的话，他就必须定期还贷款，另外还要支付利息。另外还有一种完全不同的选择，他可以向你们两个求助，请你们借钱给他的公司，这样不用定期还钱，也不用支付利息。假设你们每人借给他800马克。”“为什么我们要这样做呢？”莫尼卡茫然地问道。“这就是关键的一点，”陶穆太太连忙解释，“只有当你们能从这件事中得到好处的时候，才会去做。如果马塞尔让你们参与他公司的分红，那么你们这样做就有意义了。”“怎么进行呢？”我想知道。“比如说，你们可以约定，每人拥有他公司10％的股份。我们就算他的公司价值1万马克吧。”“我们怎么知道它值多少呢？”我问。“决定一件东西价值多少的唯一因素就是，你愿意为它支付多少钱。”老太太解释说。</p>
<p>马塞尔立刻又有了一个想法：“也许会有另一个面包商愿意把它买下来，这样他还会有新顾客，这肯定是划算的。”陶穆太太赞许地点点头。“你很有商人头脑。”她夸奖说。马塞尔立即就喜形于色了。陶穆太太接着说：“如果他现在想把公司卖掉，而且有人愿意出1万马克购买，那他的公司的市值就是1万马克。他拥有80％的股份，也就是8000马克。你们两个每人拿到10％，也就是1000马克。”“那我拿到的钱就比给他的钱多200马克！”莫尼卡欢呼。“机灵鬼！”马塞尔咯咯地笑着说。莫尼卡白了他一眼。“就是说，”我边想边说，“我们只有卖掉公司，然后才能赚到钱？”“不完全是，”老太太回答道，“也可能会有另一个人想要从你手里买下这10％，那就由你决定卖什么价钱。假设你开价1100马克，那你就能很快赚一笔。”“那我不如开价2000马克。”莫尼卡叫道。“这不是不可以，”陶穆太太同意说，“但这样的话，可能就没有人要买下你手里的10％了。因为只有当别人相信这些股份将来可以卖出一个更好的价钱的时候，他才会买进。这就是每天在交易所里发生的事情。交易所是人们聚在一起买卖公司股份的地方，每个人都希望将来会有人以更高的价钱买下他手里的股份。”“但是这谁能说得准呢？”我一边思考一边说。“你说得很对，”老太太同意我的说法，“不过还是有人可以预测马塞尔的公司是不是有升值的潜力。”“如果我的公司升了值，那你们的股份也会更值钱。”马塞尔领悟了，说道，“如果有些人看到了继续升值的希望，可能会用更高的价钱买下我的公司的股份。”我佩服地看着他说：“这些东西你这么快就懂了！”“对，他是领悟得很快，”陶穆太太再次夸奖了他，“不是每个人都会这么快进入状态的。”“我就觉得一点儿也不容易！”莫尼卡抱怨说。“这正是股票的好处，”老太太轻快地说，“你不需要自己开公司，只要在公司参股就行，你所用的方法就是购买公司的股份，也就是股票。”“就是说，我可以用自己的钱让别人替我工作。”莫尼卡高兴地说。我还有点儿将信将疑：“可是要是没有人肯买我的股份怎么办？”“那你就必须降低价格，直到有人认为‘这时买进肯定值得’为止。买主总是有的，但问题是价格是多少。”老太太解释说。“那就是说，我也可能亏损。”我用不甚满意的语气说。我一点儿也不喜欢这样。“是的，”陶穆太太同意我的说法，“但是只有当你出售股票的时候，你才会亏损。如果你保留着这些股份，将来可能会有人愿意付更多的钱来买进。”“那么这段时间里我就什么也得不到？”我很想知道一切。“不，在这期间，你参与所有的分红。”老太太马上打消了我的疑虑，“每当公司赢利，就会把利润分配给所有持有股份的人，这叫红利。”“也就是说，马塞尔必须定时从他的收入中拿出一部分，交给我们？”莫尼卡兴奋地问。“公司要每年计算一次赢利，然后再决定把这些钱用来做什么。比如可以用一部分钱购买新设备，让公司运作得更好，其余部分分配给所有持有股份的人。”“这由谁来决定呢？”莫尼卡问。“所有持有股份的人，少数服从多数，这叫股东大会。”陶穆太太告诉我们。“我喜欢这个主意。马塞尔管理公司必须知道的东西，我自己不一定要会。”莫尼卡为自己总结了一下这次谈话的内容，“但是我凭着自己手里的股份，就能和他赚得一样多，这简直是太妙了。”“不过你还是得对公司有相当的了解才行。”我补充说。我又看了一遍写着投资三大原则的那张纸，对陶穆太太说：“听了您讲的这些，我觉得股票既不保险，也并不是很简单明了、容易操作。好像只有第二点符合，容易赢利。”“要是自己去买股票，的确是这样的。”陶穆太太赞同我的说法，“但也可以让别人帮你选择买哪家公司的股票。”“我觉得，这种方法比较适合我。”我说出了自己的感觉，“但是到底谁能帮我们做这件事呢？”“这一点，下次聚会的时候我会慢慢告诉你们。”陶穆太太语气坚定地说，“今天我们已经学了一大堆东西，又把钱存进了银行。下次我们再讨论股票的问题吧。实际上，每个孩子都可以从股票上赢利，就算不太懂得这方面的知识也没关系。”</p>
<h3 id="什么是基金"><a href="#什么是基金" class="headerlink" title="什么是基金"></a>什么是基金</h3><p>基金就像一口大锅，许多没有时间、没有相关的知识或者没有兴趣亲自去买股票的投资人都会把钱投进这口锅里，这些钱由金融界的专家——也就是所谓的基金经理人——去投资买股票。国家对此进行严格的监督，基金经理人必须遵守一定的规定。比如，他们至少必须购买20种不同的股票。</p>
<p>“因为一家公司的情况总有可能变糟。”老太太解释说，“假设你有1000马克，你用这笔钱以每股50马克的价格买了20股某种股票，如果现在这只股票跌了40％，那你就不能再以50马克的价格，而只能以30马克卖出去了。你把它们卖掉的话，你就只剩下600马克了。”</p>
<p>“正因为如此，基金经理人必须购买至少20家不同公司的股票。我们还拿这1000马克做例子吧。假设现在用这些钱买了20种不同的股票，如果其中一种股票的价值下跌了40％，而其他的还保持原来的水平，那么我们总共还有980马克。”马塞尔飞快地计算着，说道：“这样，按总共1000马克计算，我们只损失了2％。”</p>
<p>马塞尔自言自语着：“那我们只能把不是马上要用的钱投进基金里，对不对？”“完全正确！”老太太高兴地说，“如果我们打算投资买基金，就要准备把自己的钱在里面放上5～10年。对于那些能等这么长时间的人来说，基金几乎是一种零风险的投资。”</p>
<p>莫尼卡刚刚安静了一阵子，这会儿又开始嚷嚷起来：“要是基金经理人带着我们的钱跑掉了该怎么办呢？”“他根本不可能这样做，因为他自己绝对拿不到这些钱。”陶穆太太微笑着说，“这些钱会先划进一家银行保管，是百分之百安全的。”</p>
<p>基金符合投资的一切要求。由于它的这些特点，它也非常适合儿童和青少年。如果能够在5～10年内不动用这些钱，基金投资是很保险的，它会带来丰厚的利润……</p>
<h4 id="选基金的注意事项"><a href="#选基金的注意事项" class="headerlink" title="选基金的注意事项"></a>选基金的注意事项</h4><p>挑选基金时的注意事项：1．基金应该至少有10年历史。假如它在这么长时间内一直有丰厚的利润，那我们可以认为，未来它也会运作良好。2．应该选择大型的跨国股票基金。这种基金在世界各地购买股票，以此分散风险，所以十分安全。3．对基金的走势图进行比较。我们应该观察在过去10年间哪些基金的年终利润最好。</p>
<h4 id="72公式"><a href="#72公式" class="headerlink" title="72公式"></a>72公式</h4><p>“有一个相当简单的公式，如果你们运用这个公式的话，可以不用去看那些又复杂又麻烦的表格。它的名字叫72公式。”老太太讲解说，“你们直接用72除以你们投资的年利润百分比，得出的数字就是这笔钱翻一倍所要的年数。”“啊？”莫尼卡嘟哝了一声。“72除以12是多少？”陶穆太太问。“6。”马塞尔飞快地算了出来。“对！这就是说，如果你们每年能得到12％的利润，6年以后你们的钱就会翻一倍。”马塞尔一边思考，一边说：“要想知道15％的时候会怎么样，那我就必须用72除以15，等于4.8年。”“简单地说，如果你们投资的收益率是15％，差不多5年以后，钱就会翻一倍。”陶穆太太说道，“也就是说，如果将来我们也能得到15％，那5年以后我们的2万马克就会涨到4万马克，10年以后就会是8万，15年后是16万，而20年后是32万。”</p>
<h4 id="基金买卖的原则"><a href="#基金买卖的原则" class="headerlink" title="基金买卖的原则"></a>基金买卖的原则</h4><ol>
<li>逢低买进</li>
<li>只有当我们把它卖出的时候，才会有亏损</li>
</ol>
<h4 id="爷爷奶奶的保守帮助吉娅避免了一个错误"><a href="#爷爷奶奶的保守帮助吉娅避免了一个错误" class="headerlink" title="爷爷奶奶的保守帮助吉娅避免了一个错误"></a>爷爷奶奶的保守帮助吉娅避免了一个错误</h4><p>你应该多谢你的爷爷奶奶，因为他们可能帮你避免了一个错误。”</p>
<pre>
“避免了什么错误？”
“我觉得，你们现在用2万马克再次买进基金不是一个好主意。我认为最多1万马克就够了。”
“这是为什么呢？如果我们现在额外多投资一些钱，不是可以赚得更多吗？”
“这当然有可能，”金先生耐心地向我解释说，“可是如果行情继续下跌怎么办呢？所以你最好不要投入太多的钱。而且如果行情真的继续下跌，那时要是你手头还有钱用来再一次买进的话，不是更好吗？”
“但我们并不知道，行情是不是真的还会继续下跌。”
“没错，我们是不知道。没有人能知道，所有试图预测未来走势的专家总是计算失误，意想不到的情况很多。正因为如此，你应该始终储备一些现金。决不能把你全部的钱都投资在股票或者基金上面。”
“我还以为基金是一种绝对保险的投资。”我怀疑地嘟哝着。
“的确很保险，尤其是当你有足够的时间可以等待的时候。就算行情暂时处于谷底，到时总会回升的。但是出于分散风险的考虑，你应该把一部分钱投资在绝对安全的地方。”
</pre>

<h4 id="72公式计算通货膨胀"><a href="#72公式计算通货膨胀" class="headerlink" title="72公式计算通货膨胀"></a>72公式计算通货膨胀</h4><p>“目前是3％左右。如果你现在想计算具体的数目，我可以告诉你一个相当简单的公式，就是72公式。这个公式很实用，我们可以通过它计算出自己的钱翻一倍需要多少年，也可以用来帮助我们计算通货膨胀。它可以告诉我们，在一定通货膨胀率下，我们的钱在多长时间后会贬值一半。按72除以3％的通货膨胀率计算，得到24，就是说24年以后，你的钱只值现在的一半。”</p>
<h2 id="达瑞的故事"><a href="#达瑞的故事" class="headerlink" title="达瑞的故事"></a>达瑞的故事</h2><h3 id="两个重要建议"><a href="#两个重要建议" class="headerlink" title="两个重要建议"></a>两个重要建议</h3><ol>
<li>为别人解决一个难题，那么你就能赚到许多钱；</li>
<li>把精力集中在你知道的、能做的和拥有的东西上。</li>
</ol>
<h3 id="具体故事"><a href="#具体故事" class="headerlink" title="具体故事"></a>具体故事</h3><ol>
<li>“这两个建议很关键。因为对于一个8岁的男孩而言，他不会做的事情有很多。于是他一边沿着大街小巷漫步，一边不停地思考人们会有什么难题，他又该如何利用这个机会为他们解决难题。</li>
<li>“这其实很不容易。好点子似乎都躲起来了，他什么办法都想不出来。但是有一天，他的爸爸无意中给他指出了一条路。吃早饭时，爸爸让达瑞去取报纸。这里必须补充一点，美国的送报员总是把报纸塞进花园篱笆上挂着的报箱里。假如你想穿着睡衣舒舒服服地一边吃早饭一边看报的话，就必须先离开温暖的房间，冒着寒风到房子的入口处去取。即使在天气不好的时候也是如此。虽然有时候只需要走二三十米路，但也是非常麻烦的事情。</li>
<li>“达瑞为父亲取报纸的时候，突然冒出了一个主意。当天他就挨个按响邻居的门铃，对他们说，只需每个月付给他1美元，他就负责每天早上把报纸塞到他们的房门底下。大多数人都同意了，达瑞很快有了70多个顾客。一个月后，当他第一次自己赚到了钱的时候，他高兴得简直快飞上了天。</li>
<li>“高兴的同时他并没有满足于现状，他还在寻找新的机会。成功了一次之后，他很快就找到了其他的机会。他让他的顾客每天早上把垃圾袋放在门前，然后由他丢到垃圾桶里——每个月加1美元。另外他还负责喂宠物、看房子、给植物浇水。但是他从来不以小时计费，因为用其他方法计费挣的钱更多。</li>
<li>“9岁时，他开始使用父亲的电脑，学着写广告。他还把孩子能够挣钱的方法记录下来。因为他不断有新的主意，所以很快就有了丰厚的积蓄。他的妈妈帮他记账，好让他知道什么时候该向谁收钱。</li>
<li>“他也雇别的孩子帮他的忙，然后把收入的一半付给他们。如此一来，钱如潮水般地涌进了他的腰包。</li>
<li>“一个出版商注意到了他，并说服他按自己的经历写了一本书，书名为《孩子挣钱的250个方法》。因此，达瑞在他12岁的时候就已经成为了一名畅销书作家。</li>
<li>“后来电视台发现了他，邀请他参加了许多儿童谈话节目。他在电视节目里表现得非常自然，受到许多观众的欢迎。15岁的时候他创办了自己的谈话节目。后来，他通过做电视节目以及广告挣的钱多得真的让人难以置信。</li>
<li>“当达瑞17岁的时候，他已经拥有了几百万美元。”</li>
</ol>
<h3 id="故事讲完了，钱钱向我提了一个问题：“你认为他在获得成功的道路上最关键、最重要的因素是什么？”"><a href="#故事讲完了，钱钱向我提了一个问题：“你认为他在获得成功的道路上最关键、最重要的因素是什么？”" class="headerlink" title="故事讲完了，钱钱向我提了一个问题：“你认为他在获得成功的道路上最关键、最重要的因素是什么？”"></a>故事讲完了，钱钱向我提了一个问题：“你认为他在获得成功的道路上最关键、最重要的因素是什么？”</h3><p>钱钱打断了我的思路，它说：“的确如此。其实从达瑞把精力集中在他知道、能做和拥有的东西上的那一天起，他的成功就已经拉开了序幕。这一决定使得一个孩子完全有能力挣到比成人更多的钱，因为成人经常把一生的时间都用来考虑他们不知道、不能做或没有的东西上。”</p>
<p>“原来又是自信的问题，”我发现了问题的本质</p>
<h3 id="有些人能挣钱，有些人挣不到钱，这是为什么"><a href="#有些人能挣钱，有些人挣不到钱，这是为什么" class="headerlink" title="有些人能挣钱，有些人挣不到钱，这是为什么"></a>有些人能挣钱，有些人挣不到钱，这是为什么</h3><p>“马塞尔，我的一些朋友也想挣钱，可是他们却什么机会都找不到，这是怎么回事呢？”<br>“那是因为他们从来没有认真找过，也许他们的时间都花在玩洋娃娃上了。”马塞尔答道。我真的开始生气了，他要是再提什么洋娃娃的事，我就……<br>但是他接着说：“吉娅，你真的认真找过工作了吗？我是说，你有没有用一整个下午的时间来考虑如何挣到钱的问题呢？”</p>
<p>钱钱严肃地看着我说：“我要告诉你3件很重要的事情。首先，在遇到困难的时候，仍然要坚持自己的想法。一切正常的时候，每个人都能做到这一点。只有当真正的困难出现时才能见分晓。只有少数人能坚定不移地贯彻自己的计划。那些非常成功的人，甚至有能力在他们最困难的时候作出最杰出的表现。”</p>
<h3 id="72小时规定"><a href="#72小时规定" class="headerlink" title="72小时规定"></a>72小时规定</h3><p>“很简单。当你决定做一件事情的时候，你必须在72小时之内完成，否则你很可能永远不会再做了。”<br>我想了想，问题也许出在这里，到目前为止，我计划了许多事情，可很多都没有实现。而另一方面我也完成了许多计划。钱钱讲的可能是对的。正因为它总是对的，所以我决定听从它的劝告。我要在72小时内完成我决定要做的事情。</p>
<h3 id="工作是一件艰苦而令人不愉快的事情？"><a href="#工作是一件艰苦而令人不愉快的事情？" class="headerlink" title="工作是一件艰苦而令人不愉快的事情？"></a>工作是一件艰苦而令人不愉快的事情？</h3><p>“大多数人都认为工作肯定是一件艰苦而令人不愉快的事情，”他向我解释道，“其实只有做自己喜欢的事情的人，才能真正获得成功。”</p>
<h3 id="陷入债务的人的4个忠告"><a href="#陷入债务的人的4个忠告" class="headerlink" title="陷入债务的人的4个忠告"></a>陷入债务的人的4个忠告</h3><p>从根本上说，那些陷入债务的人只要听从4个忠告就可以解决负债问题。一切都很简单。”</p>
<ol>
<li>毁掉信用卡。</li>
<li>在许可范围内按最低的分期付款数目标准支付。</li>
<li>将扣除生活费后剩下的钱的一半存起来，剩下的一半用于支付消费贷款。最好根本不申请消费贷款。</li>
<li>这真的有必要吗？<ul>
<li>这样的话，当他站在收银台前的时候，就会想到不应该花太多的钱。”</li>
</ul>
</li>
</ol>
<h2 id="下金蛋的鹅"><a href="#下金蛋的鹅" class="headerlink" title="下金蛋的鹅"></a>下金蛋的鹅</h2><ol>
<li>不要杀死你的鹅</li>
<li>“鹅代表你的钱。如果你存钱，你就会得到利息。利息就相当于金蛋。”</li>
<li>“大多数人生来并没有‘鹅’。这就是说，他们的钱不足以让他们依靠利息来生活。”</li>
</ol>
<h3 id="如何分配自己的钱"><a href="#如何分配自己的钱" class="headerlink" title="如何分配自己的钱"></a>如何分配自己的钱</h3><p>“我已经想好该怎么分配我的钱了，我也要把50％的收入变成我的‘鹅’，40％放入我的梦想储蓄罐，剩下的10％用来花。”</p>
<h2 id="金钱与幸福"><a href="#金钱与幸福" class="headerlink" title="金钱与幸福"></a>金钱与幸福</h2><p>陶穆太太想了一会儿，说：“因为他们认为有了很多钱就可以改变处境。他们以为金钱会使人幸福。”</p>
<p>“我的爸爸妈妈也这么想，”我一边思索，一边说道，“他们相信，要是不用为钱发愁的话，他们就可以活得很好。”</p>
<p>“那你父母就跟许多人一样有错误的想法。要想过更幸福、更满意的生活，人就得改变自身。这和钱无关，金钱本身既不会使人幸福，也不会带来不幸。金钱是中性的，既不好，也不坏。只有当钱属于某一个人的时候，它才会对这个人产生好的影响或者坏的影响。钱可以被用于好的用途，也可以被用于坏的用途。一个幸福的人有了钱会更幸福；而一个悲观忧虑的人，钱越多，烦恼就越多。”</p>
<h2 id="做一个有钱人的理由"><a href="#做一个有钱人的理由" class="headerlink" title="做一个有钱人的理由"></a>做一个有钱人的理由</h2><ol>
<li>你可以做一个有能力帮助别人的人，而别人也会相信你，愿意接受你的帮助</li>
</ol>
<h2 id="自力更生–写给成年人的后记"><a href="#自力更生–写给成年人的后记" class="headerlink" title="自力更生–写给成年人的后记"></a>自力更生–写给成年人的后记</h2><h3 id="打破-桎梏，-开阔-视野"><a href="#打破-桎梏，-开阔-视野" class="headerlink" title="打破 桎梏， 开阔 视野"></a>打破 桎梏， 开阔 视野</h3><ol>
<li>《大与小》杂志的一篇评论文章认为，自从德国人弗里德里希·福禄贝尔创办世界上第一家幼儿园以来，200年间，他的追随者们把儿童从做童工受剥削的恐惧中解放出来之后，又把他们束缚在培养乖孩子的游戏之中。现在，是应该努力从儿童的角度重新解读“劳动”这个概念的时候了。应该给孩子们提供机会，让他们能够多接触一下成年人的工作领域。</li>
<li>让孩子们在市场中学习，这也意味着在风险中学习。每一个商业决策都包含了一些风险。错误的决策迟早要遭受经济上的惩罚，而正确的决定最终将带来更高的收益。</li>
<li>“经营”和“赚钱”这两个游戏是严肃的。市场就像是一所课堂之外的学校，既是一条荆棘丛生的道路，也是一座错综复杂的迷宫；既是出产雷厉风行的人的场所，也是制造犹豫不决的人的工厂；既是培养思维能力的静修地，也是产生卓越策略的办公室，或是各种创意的交易所。市场这所学校是一个根植于现实生活中的梦想。</li>
<li>市场是一种原则——就像民主一样，它可能被滥用。市场并不意味着没有秩序，横冲直撞，而是意味着透明度、竞赛、对人和自然的责任、公平竞争和一定程度的保护。 </li>
<li>商业活动意味着独立自主、积极主动，或者也可以说坚持己见，但那并不意味着缺乏团结友爱的精神。我们要对孩子们开展团队教育，这是因为，我们不是独自活在这个世界上，而是和其他人共同生活在一起的。</li>
<li>赚钱不是一件坏事，它可以为自己和他人带来好处。从小开始赚钱的人拥有对依赖思想的抵抗力，不会乐意让别人来养活自己。而且自己赚钱的人不会成为不断膨胀的消费欲望的奴隶。从事商业活动有助于人们以理智的态度珍惜和使用有限的资源。</li>
</ol>
<h3 id="从小做起"><a href="#从小做起" class="headerlink" title="从小做起"></a>从小做起</h3><ol>
<li>现在有一个值得省思的问题——整个中欧对“儿童”这个概念的解读可能明显低估了孩子们的学习技能和从事商业活动的潜力。</li>
<li>要想有所成就，必须从小做起。</li>
<li>分析企业家的传记，有一点很引人注目。绝大多数敢于投身商业活动的人，在童年时期就已经拥有了一些自己的想法，具有某种“怪癖”，而且善于思考。他们之中的大多数人有过小规模的经营管理的实践经验，参与过小型的经济活动。</li>
<li>安妮塔·罗迪克是在世界各地都设有销售代理的健康和美容用品连锁店“美体小铺”的创始人，她在童年时期卖过化妆品。戈特利布·杜特韦勒尔的Migros连锁超市在瑞士创造了4万个就业机会，是瑞士国内最大的零售商，他小时候养过小白鼠、豚鼠和兔子以供出售。</li>
<li>心理治疗师和企业家彼得·戈培尔认为，思考可以是一种享受，而工作会带来无穷乐趣。具有横向思维能力的人将会受到欢迎，青少年完善自身的愿望和对独立的追求不应被遏制。</li>
<li>分析企业家的传记可以明显看出，在童年时期和学生时代，他们当中有许多人不得不努力地压制自己的意志，使自己适应外界对思维发展的束缚。是什么阻碍了企业家素质的萌芽呢？如果能够减少这种阻力的话，那必是一件幸事。</li>
</ol>
<h3 id="企业家精神"><a href="#企业家精神" class="headerlink" title="企业家精神"></a>企业家精神</h3><ol>
<li>在德国，新一轮教育危机已经初现端倪。原因在于教育界对大众失业问题没有作出恰当和足够的反应。教育要想在未来获得发展——或者确切地说，要想获得生存的保障，必须学会企业家的思维方式。</li>
<li>这意味着专职的教育工作者也要学习这样的思维方式，并且以身作则。不应仅仅局限于推动职业培训，也不应抱着充分就业的假设不放，这样做是不够的。更为重要的是要从小开始培养孩子们的企业家精神，正确理解企业家素质（Entrepreneurship）。企业家素质不仅仅像目前大家所理解的那样，是企业家传记中描写的那些特殊的禀赋，它应更多地落实到每一个公民身上，让它成为大家都具备的基本素质。</li>
<li>什么是企业家素质呢？这是一个在英语国家常用的概念，很难找到恰当的译法。它指的是一种发展、革新的经营观念，以及将这种观念贯彻在市场中的能力。</li>
</ol>
<h3 id="用“提出需求”代替“满足欲望”"><a href="#用“提出需求”代替“满足欲望”" class="headerlink" title="用“提出需求”代替“满足欲望”"></a>用“提出需求”代替“满足欲望”</h3><ol>
<li>由于西方国家经济条件优越，使二战之后出生的这代人和他们的下一代在物质生活方面得到了充分的满足。</li>
<li>对于孩子们层出不穷的愿望，大人们把迅速满足他们的需要当作一剂速效镇静剂。于是孩子们失去了在发展心理学中被称作进取心和承受力的能力。被宠坏的孩子缺乏应对艰难时刻的心理准备。</li>
<li>中欧地区对“童年”这个概念的理解包括“废除剥削儿童的童工劳动，维护儿童的权益”等内容。它源于良好的愿望，但也有消极的一面，造成了儿童与社会的日益隔绝和童年期的延长，以及对孩子们过分和幼稚化的倾向。要想找出一个适合我们这个矛盾时代的对“童年”的解释，重要的是不要继续把孩子们培养成温驯听话的小绵羊，不要再用喂他们镇静剂的方式对他们进行职业素质教育。</li>
<li>孩子们具有掌握自己发展方向的潜力。因此，成年人不要替孩子们决定该如何发展，而是应该理解、支持他们，帮助他们成长，要相信孩子们的自觉性和进取心。</li>
<li>我们应该要求孩子们具有小心谨慎和不屈不挠的品质，并有意识地在这些方面培养他们。因此，在遇到需要解决的问题时，不要直接把答案摊在他们面前，而是应该给他们机会，让他们自己去寻找解决办法，使他们通过扩大视角、深入调查来体验研究、发现和实验的学习过程。</li>
</ol>
<h2 id="一些概念"><a href="#一些概念" class="headerlink" title="一些概念"></a>一些概念</h2><h3 id="股票"><a href="#股票" class="headerlink" title="股票"></a>股票</h3><p>股票是一家公司的股权证明——你可以购买这家公司的一份或若干份股权。每一份股权就是一张股票。如果公司赢利（赚钱），你就可以根据自己所拥有的股份数量，从公司的利润中分得一部分。你的股份越少，分到的利润就越少；股份越多，分到的利润就越多。如果公司亏损，那么你所持有的股票就会贬值。在这种情况下，你不应该急于卖出股票，而应该等待公司重新赢利。在第十六章中，陶穆太太对此有详细说明。</p>
<h3 id="投资"><a href="#投资" class="headerlink" title="投资"></a>投资</h3><p>一方面，投资是指通过获取利息使钱的数目增加，比如将钱投资买股票，或者存入银行；另一方面，通过购买任何一件日后会增值的物品，比如艺术品、房产、古董等，也可以进行投资。</p>
<h3 id="交易所"><a href="#交易所" class="headerlink" title="交易所"></a>交易所</h3><p>交易所是一种特别的市场，是商人们为了进行商业交易而举行定期聚会的场所。交易所根据市场情况，并且通过官方的价格调控使供应和需求达到平衡。详情请见第十六章。</p>
<h3 id="基金"><a href="#基金" class="headerlink" title="基金"></a>基金</h3><p>出于特定用途而集中的资金（特殊财产），详情请参阅第十六章。</p>
<h3 id="抵押"><a href="#抵押" class="headerlink" title="抵押"></a>抵押</h3><p>简而言之，抵押就是把地产等抵押品作为债务担保的行为。当房子所有权人负债时，他可以抵押这栋房子，作为法律上和经济上还款的保证，但这样一来，他的地产就记入了债权人名下。这就是说，这栋房子的所有权受到了限制，如果债务人——也就是房子所有权人——出售他的房子，获得的收益必须交给债权人。</p>
<h3 id="通货膨胀"><a href="#通货膨胀" class="headerlink" title="通货膨胀"></a>通货膨胀</h3><p>通货膨胀就是货币贬值。现在用5马克可以比10年后买到更多的东西，也就是说，货币的价值随着时间的增长而不断减少。</p>
<h3 id="利息"><a href="#利息" class="headerlink" title="利息"></a>利息</h3><p>如果你将资金借给银行（就是说把钱存入一个账户），银行就付给你一定的金额作为回报。如果你借给银行3000马克，银行就会按一个规定的利率——比如3％，付给你利息，这样你每年都会得到3000马克的3％，也就是90马克。</p>
<h3 id="复利"><a href="#复利" class="headerlink" title="复利"></a>复利</h3><p>你可以和银行约定，每年年终时将利息计入本金。我们还以上面的数字为例，那么你第二年的本金加在一起就达到了3090马克，这笔钱又重新开始产生利息：3090的3％是92.7马克。这样继续下去，下一年的本金就是：3090＋92.7＝3182.70（马克）。以此类推，之后每年都这样计算。</p>
<h2 id="甜甜圈的圆圈和里面的圆孔"><a href="#甜甜圈的圆圈和里面的圆孔" class="headerlink" title="甜甜圈的圆圈和里面的圆孔"></a>甜甜圈的圆圈和里面的圆孔</h2><p>吉娅和汉内坎普夫妇关于甜甜圈的对话，甜甜圈的圆圈代表了金钱，里面的圆孔代表了人的内在品质。</p>
<p>吉娅的脸一下就红了。这时只听汉内坎普夫人继续说道：“金钱是生活中重要的东西，但却不是生活的全部。金钱或者一切可以用来消费的东西，对于我来说都像是甜甜圈外面那个圆圈。”<br>汉内坎普夫人微笑着回答道：“你只说对了一半。我们只能看到那个甜甜圈的圆圈，但它其实还有其他的组成部分。”</p>
<p>吉娅怀疑地问：“如果是这样的话，它又究竟是什么呢？”“一个甜甜圈是由外面的圆圈和中间的圆孔共同组成的。”汉内坎普夫人是这么解释的。但吉娅并不同意她这个解释：“可那个圆孔根本就什么都不是呀。它只不过是空的而已。”汉内坎普夫人耐心地说：“一个圆孔确实是空的。但当你掉进洞里的时候，你才会体验到这个空的孔是一个实实在在的存在。”听到这番话，汉内坎普先生也赞许地点了点头。他的脸上露出了自豪的笑容，看上去就像是戴了一副狼人面具一样。吉娅想了想，然后说道：“是呀，附近森林的地面上也有一些圆孔。我有一次就踩进了那样的孔里，还把自己的脚给崴了。我承认，确实有一些人们看不见但却实际存在的东西。”“还有风和空气，它们也和甜甜圈中间的圆孔是一样的。”汉内坎普夫人继续说道。吉娅接着问：“如果甜甜圈外面的圆圈象征着金钱及一切可以用来消费的东西，那么它中间的那个圆孔又代表着什么意思呢？”“你能想到这个问题，我很高兴。”汉内坎普夫人回答道，“甜甜圈中间的圆孔代表着人类的内心，可是这内心本身却是无形的。许多人并不关心自己的内心，就是因为看不到它。对于他们来说，只有看得见的成功才是重要的。但你如果想要变得幸福，就不能只重视物质上的成功，还必须培养自己具有优秀的内心。”“什么是优秀的内心呢？”吉娅很想知道。汉内坎普夫人向她解释道：“优秀的内心就是那些人们不能用金钱买到的东西，但缺少了它们人们就无法获得幸福。这个内心就是你的品格，谦虚、感恩、尊敬老人及同情弱者都属于一个人的优秀品格。培养优秀品格的前提是，你应该认识到自己并不是孤零零地生活着，而是与他人同在。因此，你应该助人为乐，要通过自己的努力使得世界在他人眼中变得更加美好。”“哇，”吉娅很是吃惊，“您竟然是从甜甜圈那儿得到这个道理的呀！”</p>
<p>汉内坎普先生在一旁接过了她们的话头：“没有圆孔的甜甜圈也就不再是甜甜圈了。同样的道理，缺少优秀品格的人其本质也是空虚的。只考虑金钱的人是不会真正幸福的。”吉娅不清楚自己是否正确理解了这个道理。直到刚才她还为自己已经学会了那么多理财方面的知识而感到骄傲，而现在那些知识好像已经变得不那么重要了。她问：“如果这种内心是一个人能否获得幸福的关键所在，为什么我还得学习那些关于金钱的知识呢？”汉内坎普先生微笑着反问她：“如果你把甜甜圈外面的圆圈吃光，又会怎么样呢？”吉娅立即回答道：“那就只剩下里面的圆孔了。”“哦，不对，”她又马上修改了自己的答案，“没有了圆圈也就不会再有什么圆孔了。也就是说，不会再有什么内心了。”汉内坎普夫人满意地望着吉娅说：“这是一个出色的结论。祝贺你，我的孩子。你现在已经完全理解了这个道理：没有圆圈也就没有圆孔。对于人们来说，它则意味着：绝不能忽视圆圈，否则的话内心也无法彰显出来。完满而幸福的人都是两者兼备的。”</p>
<h2 id="白色石头"><a href="#白色石头" class="headerlink" title="白色石头"></a>白色石头</h2><p>老妇人莎妮娅·怀斯告诉吉娅她的出现是为了帮助吉娅找到她的那块白色石头而来的。</p>
<p>“我的名字叫莎妮娅·怀斯。”老妇人回答道。吉娅觉得这个名字真的再适合她不过了。老妇人继续说道：“正如我刚才所说，我就是为了帮你找到你自己的那块白色石头而来的。其他的一切都不重要，因为生命中没有什么比寻找白色石头更重要的事了。每个人都必须找到属于他自己的那块石头，只有这样他才能获得真正的幸福。”</p>
<h2 id="一枚古代硬币的两面"><a href="#一枚古代硬币的两面" class="headerlink" title="一枚古代硬币的两面"></a>一枚古代硬币的两面</h2><p>《一枚古代硬币的两面》是一个论文标题，吉娅与父母一起前往美国大使馆就吉娅是否可以拿到去美国的奖学金与签证官进行面试，因为说长得很胖的史蒂文斯女士的坏话得罪了史蒂文斯，论文题目也从《我为什么要到加利福尼亚过6个星期的假期》变成了《一枚古代硬币的两面》,本来这个题目是留个大学生的，题目是难了很多，但在完成论文的过程中，吉娅也学会了很多宝贵的知识，比如：甜甜圈的圆圈和里面的圆孔分别代表金钱和人的内在品质；</p>
<p>这枚古硬币是吉娅的堂兄马塞尔父亲收藏，古硬币一面因为磨损严重已经看不清楚，另一面是一位英武的皇帝：马可·奥勒留。</p>
<p>使用莎妮娅·怀斯的老妇人给吉娅的神奇放大镜吉娅听到了马可·奥勒留关于古硬币的两面的解释：<br>“谁的手里拥有这枚硬币，谁就可以理解到：自己也有正反两个方面。而只有当你将自己的正反两面都注意到的时候，你才有机会体验到真正的幸福。“首先看一看你那外在的一面吧。你已经知道了，为了满足物质上的欲望并在这个世界上继续生存，你就必须得到金钱。而那内在的一面却能让你意识到上帝的力量，你必须学会心存感恩和乐于助人。只要去帮助他人，神性就会在你内心生长。“这内外两个方面都属于你的本质，两者都十分重要，它们也都能使你最终满足自身的需求。因此，千万不要忽视这两个方面，否则的话你就不可能幸福。”<br>以下是吉娅写给美国大使馆关于硬币的两面的论文：</p>
<pre>
尊敬的美国大使馆：
   刚开始的时候我为自己必须要写这样一篇困难的文章而感到烦恼。但很快我就意识到了，这其实是一篇很好的论文，因为我可以从中学到许多重要的东西。
   前几个月我努力赚到了很多钱，而且也学会了如何有效地理财。我甚至还做了几场演讲以便帮助同学们学会打理自己的财务。这就好比是那古代硬币的一面。
   然而我却没有注意到它的另外一面。我对父母还不够尊重，对其他人也很放肆。而且我还经常借机嘲笑我最好的朋友。虽然她总是以笑脸回应，然而我却知道我已经伤害了她。我想就我的一切错误言行向他们表示歉意。
   我认识一位非常富有的人，我觉得他对我非常好，因为他总是十分友好地帮助我。我相信，他就是那种同时拥有正反两面的人。
   汉内坎普夫人能烤出全世界最好的甜甜圈。她对我说，甜甜圈是一个象征，就像那古代硬币一样。甜甜圈很好吃，它是由外面的圆圈与里面的圆孔共同组成的，就像硬币也是由正反两个面组成的一样。外面的圆圈就好比是金钱或者其他一切可以用来消费的东西，而里面的圆孔则代表着人们无法一眼看到的人类的品格。
   优良的品格是无法用金钱来衡量的，因而也不能用钱来购买。但是唯有具有优良的品格，一个人才能拥有好朋友、才能感到幸福。内在的东西与外在的东西一样重要。
   陶穆太太家曾经被盗，而盗贼就是那种只关注于外在一面的人。陶穆太太说过，他们肯定是不会幸福的。我完全相信她的话。
   一枚硬币具有正反两面，这促使我一再思考如何才能给他人带来快乐、如何才能帮助他人。虽然到目前为止，我还不知道究竟该怎么做，但幸运的是，我认识许多出色的人，我能够从他们身上学到很多东西。
                                                                                                                                                                                               吉娅
   备注：我觉得，古罗马皇帝马可·奥勒留也一定是这么认为
</pre>



<h2 id="演讲的价值"><a href="#演讲的价值" class="headerlink" title="演讲的价值"></a>演讲的价值</h2><p>吉娅去向安娜请教演讲的技巧，安娜曾经获得演讲冠军，现在因为身患一种罕见的肌肉疾病住进了医院，安娜真成的帮助吉娅向他讲述了自己对演讲的理解，并想出了用支票作为演讲作为比喻传递价值的例子，帮助吉娅获得了冠军，同样，吉娅也和同学们想尽办法最终找到了治疗安娜疾病的方法，帮助安娜恢复了健康。<br>以下是安娜给予吉娅关于演讲注意的3件重要的事：</p>
<ol>
<li>讲你心里真实存在的东西</li>
<li>要求你的听众去做一些具体的事情。如果一场演讲不能鼓舞听众的实际行动，那就是在浪费时间</li>
<li>忘记你站在很多人的面前，而把注意力只集中在两三个你认识和喜欢的人身上。你可以轮流看他们，就像是只和他们聊天一样。这样你很快就不紧张了。</li>
</ol>
<h2 id="在演讲中使用支票传递关于价值的信息给听众"><a href="#在演讲中使用支票传递关于价值的信息给听众" class="headerlink" title="在演讲中使用支票传递关于价值的信息给听众"></a>在演讲中使用支票传递关于价值的信息给听众</h2><p>吉娅在演讲中拿出一张100美元的支票，询问现场的人谁想要这张支票，所有人都举起了手，不管这张支票被揉成一团或者踩在脚底，想要这张支票的人的想法都不会改变，接着吉娅给出了其中的原因，因为其中的价值是没有改变的。</p>
<p>“看到支票的时候想要做什么？当然是得到它。但这又是为什么呢？因为它永远不会失去价值，它总是值100美元。在生活中我们总是爱抱怨，总会想生活是多么不公平呀。或者更为糟糕的是：我们觉得自己的存在没有价值。但其实对任何人来说都一样：没有人会失去自身的价值。我们总是为了那些喜欢我们的人无私地存在。人类的价值并不取决于能够达到什么目标或是拥有多少财富，而是取决于你到底是一个什么样的人。”</p>
<h2 id="一个巧妙的例子：使用账户的存款比喻人与人的关系"><a href="#一个巧妙的例子：使用账户的存款比喻人与人的关系" class="headerlink" title="一个巧妙的例子：使用账户的存款比喻人与人的关系"></a>一个巧妙的例子：使用账户的存款比喻人与人的关系</h2><p>书中吉娅询问进金先生：“如何避免发生她和胡伯特无意互相伤害彼此的事情？我真的不想让事情变成那样。一想到人们居然能合情合理地憎恶对方，我就感到害怕”<br>金先生让吉娅想一想第一条准则是什么，第一条准则是“友好亲和”，然后举了一个银行账户没有存款却必须付费修理自行车的问题，这个时候会非常麻烦，而如何银行账户有几百欧，就不会有这么麻烦，然后引出了我们与他人的关系就像是银行账户，与银行账户相似，世间还有一种叫做”关系账户“的东西。<br>维持一份良好关系的成功秘诀就在于要先往这个账户里“存钱”，因为没有任何人能够在长时间内不去‘取钱’。<br>接着金先生向吉娅解释了，这里的“存钱“、“取钱”是什么意思。<br>“当我们伤害别人的时候，就等于是在‘取钱’。账户中的‘存款’此时会减少，而我们与他人的关系也会变得不再那么好。但要是账户上有很多‘存款’的话，人与人之间的关系就能保证‘取钱’变得更加容易。如果发现‘账户’空了，那便是因为我们在很长一段时间内都没有‘存钱’，而接下来的任何‘取钱’行为都会产生问题。”</p>
<h2 id="人生没有回头路"><a href="#人生没有回头路" class="headerlink" title="人生没有回头路"></a>人生没有回头路</h2><p>生活始终向前行进。你可以暂时休息一下或者安静地聚集新的能量，但你永远无法再回去了。<br>老妇人莎妮娅·怀斯点头表示同意，她说：“我相信成年人有时也会有这样的想法，但生活本身是一次旅行，总是一直向前。我们中的大多数人总是先到外面去建造甜甜圈那外在的一圈：上学、找工作、买房子、买汽车、储蓄及投资。但在这之后，有些人的旅行就会在某个时刻开始转入内在，他们会关注起自己的品格。而那正是所谓的甜甜圈的圆孔。人们不断地前往新的‘河岸’、开启新的冒险，而一些明智的人在此过程中能同时注重物质和品格这两个方面。”</p>
<h2 id="什么是自己最宝贵的东西"><a href="#什么是自己最宝贵的东西" class="headerlink" title="什么是自己最宝贵的东西"></a>什么是自己最宝贵的东西</h2><p>书中名叫莎妮娅·怀斯的老妇人告诉吉娅她的朋友是她最宝贵的东西，他们都心地善良、热爱学习、并且力求上进。<br>老妇人对吉娅进行了评价：问题在于我们为什么要学习，当然是为了成为一个更加优秀的人。吉娅已经具有了非常高贵的品行：那便是吉娅对他人能起到最好的模范作用。吉娅对朋友产生了好的影响，而且吉娅也主动寻找能对她施加良好影响的人。这正是成功与幸福生活的秘诀，是找到白色石头的必由之路。<br>老妇人嘱咐吉娅，寻找白色石头的过程中，不要忘记按照那7条准则去行动，也不要忘记继续和优秀的人交往</p>
<h2 id="养成优秀品格的7条准则"><a href="#养成优秀品格的7条准则" class="headerlink" title="养成优秀品格的7条准则"></a>养成优秀品格的7条准则</h2><ol>
<li>友好亲和（金先生告诉吉娅“虽然没人要求你一定要那样，但你仍然应该总是保持礼貌。因为不友善一直就是缺乏教养和内心脆弱的标志，而且也显得很愚蠢。尊重他人和对人有礼貌是成功的重要因素。如果有人不喜欢你，很大程度上是因为你表现得不够友好。这会损害一个人的声誉，所以你不能那么做。另外，彬彬有礼也可以让以前并不信任你的人接纳你。”）</li>
<li>勇于承担（金先生告诉吉娅““第二，你不能总是抱怨命运的不公。在我们的生活中不是所有的事情都是公平的，不公平的情况很常见。但这并不意味着你就应该放弃，因为成功并不取决于你是否受到了公平的对待。” 金先生也同意她的话：“你说得一点儿都没错。我和你一样也很厌恶不公平。虽然我一直能够公平地对待他人，然而我却并没有能力阻止别人不公平地对待我自己。所以，如果真的有人对我不公，我不会立即发怒，然后选择放弃。当然，你可以给自己找一个貌似合理的借口，比如你可以说：‘我做不到，因为一切都是那么的不公平。’但是这样到底有没有用呢？你最终还是不能成功地达到目的。”）</li>
<li>善待他人（金先生并不同意吉娅的看法：“嘲笑他人是一件令人遗憾的事情。当你把目光都集中在别人的错误和缺点上时，就自然会忽略他们身上闪光的一面。而一个人只有具备了审视美好事物的能力，世界对他来说才会变得更加美好。除此之外，在背后议论他人也会给你身边的人留下不好的印象。因为人们会认为，你既然能够在背后说别人的坏话，就能在其他场合说他们的坏话。”）</li>
<li>帮助给予（吉娅发现自己有很多符合这一条的学习榜样：珊蒂、好老师和金先生。好老师建议吉娅：“当你不确定怎么样才能遵守这条准则的时候，就想一想那些榜样，然后问自己：‘如果是这个人的话，他会怎么做呢？‘这样你就能立即回到正确的道路上来。“）</li>
<li>感恩之心</li>
<li>勤学不辍</li>
<li>值得信赖</li>
</ol>
<h3 id="友好亲和"><a href="#友好亲和" class="headerlink" title="友好亲和"></a>友好亲和</h3><ul>
<li>我有一个强烈的愿望，希望其他人能够像我一样生活美好而幸福。</li>
<li>我不会伤害任何人。我克制自己，不介入任何争端。</li>
<li>我谦虚有礼，尊重他人。我并不是永远正确。<h3 id="勇于承担"><a href="#勇于承担" class="headerlink" title="勇于承担"></a>勇于承担</h3></li>
<li>遇事我能自我抉择。我能自行判断对某种情况应该作何反应。</li>
<li>我不受不公平之事的影响，而是将注意力集中在我能做的事情、我知道的知识和我拥有的东西之上。</li>
<li>我把责任推托给别人的同时，也把相应的权利转交给了对方。<h3 id="善待他人"><a href="#善待他人" class="headerlink" title="善待他人"></a>善待他人</h3></li>
<li>我只称赞他人。如果确实无法称赞他人，那就最好什么都不说。</li>
<li>我尽量不批评他人。如果不得不批评，也要用非常礼貌和友善的方式。</li>
<li>我将注意力集中在他人的优点和闪光点上。<h3 id="帮助给予"><a href="#帮助给予" class="headerlink" title="帮助给予"></a>帮助给予</h3></li>
<li>我祝愿自己遇到过的所有人都能一切顺利。</li>
<li>我送给某人礼物，因为我想表达自己对他的好感。</li>
<li>最美好的事情莫过于帮助他人。我总是在想自己能够帮助谁，没有什么比这更令人快乐。<h3 id="感恩之心"><a href="#感恩之心" class="headerlink" title="感恩之心"></a>感恩之心</h3></li>
<li>我总是心怀感恩，哪怕是对看似寻常的事情。</li>
<li>即便遇到了困难，我还是会关注值得感激的事物。</li>
<li>我对身边的人都充满感激之情，并非常享受和他们共度的美好时光。<h3 id="勤学不辍"><a href="#勤学不辍" class="headerlink" title="勤学不辍"></a>勤学不辍</h3></li>
<li>如果我骄傲自满，那无异于说自己不必再学任何东西了。因此我应该保持谦恭好学的态度。</li>
<li>我不仅要阅读好的书籍、写成功日记和知识笔记，还要尽可能多地向他人学习。</li>
<li>我不拿自己和别人比较，而是尽我所能做到最好。<h3 id="值得信赖"><a href="#值得信赖" class="headerlink" title="值得信赖"></a>值得信赖</h3></li>
<li>我能否成功总是取决于自身培养出的习惯。</li>
<li>如果我是一个非常自律的人，我就能比那些虽有天赋但却懒惰散漫的人获得更多的成功。</li>
<li>我总是很守时。我信守对他人作出的承诺。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://thinknotes.cn/2018/06/09/config_wechat_receive_alertmanger_info/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dreampython">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="二月鸟的自留地">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/09/config_wechat_receive_alertmanger_info/" itemprop="url">通过企业微信接收alertmanager信息</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-09T00:00:00+08:00">
                2018-06-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/运维/" itemprop="url" rel="index">
                    <span itemprop="name">运维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>PC端浏览器访问 <a href="https://work.weixin.qq.com/login" target="_blank" rel="noopener">https://work.weixin.qq.com/login</a> 使用手机微信扫描进入企业微信管理界面，需要是企业微信管理员，依次进入：菜单栏&gt;企业应用&gt;创建应用，完成创建应用的操作，获取agent_id；在菜单栏&gt;我的企业，获取corp_id</p>
<h2 id="alertmanger-配置-通过企业微信接收alertmanager信息"><a href="#alertmanger-配置-通过企业微信接收alertmanager信息" class="headerlink" title="alertmanger 配置-通过企业微信接收alertmanager信息"></a>alertmanger 配置-通过企业微信接收alertmanager信息</h2><p><pre><br>route:<br>  group_by: [‘alertname’]<br>  receiver: ‘wechat</pre></p>
<p>receivers:</p>
<ul>
<li>name: “wechat”<br>wechat_configs:<ul>
<li>send_resolved: true<br>to_user: “” # 发送给哪些用户 @all发给 该应用的全部关注者,可以参考微信api文档,可以写具体某人微信号,多人用|分割<br>to_party: “” # 发给某个部门组织<br>to_tag: “”<br>agent_id: “xxx” # 发给到具体哪个应用, 联系微信管理员可获得<br>corp_id: “xxxx” ## 企业号的corp id 找企业号管理员可以获得,同全局设置<pre>

</pre></li>
</ul>
</li>
</ul>
<h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><ol>
<li><a href="https://songjiayang.gitbooks.io/prometheus/content/alertmanager/wechat.html" target="_blank" rel="noopener">https://songjiayang.gitbooks.io/prometheus/content/alertmanager/wechat.html</a></li>
<li><a href="https://berlinsaint.github.io/blog/2018/01/15/Alertmanager%E6%94%AF%E6%8C%81%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E5%95%A6/" target="_blank" rel="noopener">https://berlinsaint.github.io/blog/2018/01/15/Alertmanager%E6%94%AF%E6%8C%81%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E5%95%A6/</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://thinknotes.cn/2018/06/06/system_load/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dreampython">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="二月鸟的自留地">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/06/system_load/" itemprop="url">系统负载</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-06T00:00:00+08:00">
                2018-06-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/运维/" itemprop="url" rel="index">
                    <span itemprop="name">运维</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="如何确定生产环境中发生的瓶颈"><a href="#如何确定生产环境中发生的瓶颈" class="headerlink" title="如何确定生产环境中发生的瓶颈"></a>如何确定生产环境中发生的瓶颈</h2><ol>
<li>观察load average（平均负载）</li>
<li>观察CPU、I/O是否存在瓶颈</li>
</ol>
<h3 id="观察load-average"><a href="#观察load-average" class="headerlink" title="观察load average"></a>观察load average</h3><ol>
<li>作为重要的负载评估指标，需要通过top和uptime等命令查看load average。load average 可以衡量整个系统的负载情况。虽说仅通过load average还不能判断出系统出现瓶颈的原因在哪里，但可从load average着手进行系统瓶颈的调查。</li>
<li>有时在load average较低时，系统的吞吐量有可能还是达不到要求。此时就需要查看软件的配置是否不合理，网络、远程主机方面是否存在问题等。</li>
</ol>
<h3 id="观察CPU、I-O是否存在瓶颈"><a href="#观察CPU、I-O是否存在瓶颈" class="headerlink" title="观察CPU、I/O是否存在瓶颈"></a>观察CPU、I/O是否存在瓶颈</h3><ol>
<li>当load average较高时，需要确认CPU和I/O哪个存在问题。通过使用sar或vmstat等工具，可以确认一段时间内的CPU使用率和I/O等待的情况。确认后即可进入下一阶段。<h4 id="当CPU负载较高时"><a href="#当CPU负载较高时" class="headerlink" title="当CPU负载较高时"></a>当CPU负载较高时</h4>CPU负载较高时，可以按照下面的流程来排查问题所在：</li>
</ol>
<ul>
<li>通过top和sar等工具来判断是用户程序（Web应用程序）的原因，还是系统程序（操作系统）的原因</li>
<li>一边通过ps命令来查看进程状态以及CPU使用时间等数据，一边锁定出现问题的进程</li>
<li>如果要进一步了解所锁定的进程的具体行为，可以使用strace命令进行跟踪（Trace），也可以使用oprofile工具在计数器中断处理入口处建立监测点，以缩小监控瓶颈的范围</li>
</ul>
<p>造成CPU负载过重的原因通常是：</p>
<ul>
<li>磁盘及内存占用尚未超标的情况下（即I/O不存在瓶颈），系统的load average指标依旧很高</li>
<li>程序的逻辑部分负载超过CPU的承受能力且不受控制</li>
</ul>
<p>如果是前者且系统吞吐性能也出现了问题，可以尝试通过增设服务器、改善程序逻辑和算法来解决问题。后者的情况下要注意程序没有预料到的流程，以避免出现程序失控的状况。</p>
<h4 id="当I-O负载较高时"><a href="#当I-O负载较高时" class="headerlink" title="当I/O负载较高时"></a>当I/O负载较高时</h4><p>I/O负载较高基本上有两种情况： </p>
<ol>
<li>一种是来自程序本身的磁盘读写较为频繁，造成该程序输入输出负载比较高；</li>
<li>另一种是因使用了Linux swap交换区而造成磁盘的频繁访问。通过使用sar及vmstat命令确认SWAP交换区的状况，即可分辨出到底是哪一种情况。</li>
<li>如果确认后发现发生了频繁访问SWAP交换区的情况，可通过以下几个步骤来查出问题所在：<ul>
<li>通过ps命令确认是否有特定进程消耗了大量内存</li>
<li>由于程序不受控制而造成内存占用过大时，可以修改相应的程序逻辑来解决问题</li>
<li>系统存在不足时增加内存。无法增加内存的情况下需要考虑进行负载分流</li>
</ul>
</li>
<li>如果没有频繁访问SWAP交换区，且磁盘上依然频繁发生输入输出，该情况下可以认为是缓存所需的内存不足。可以根据服务器装在的磁盘容量以及可以扩充的内存容量，分以下几种情况来考虑：<ul>
<li>通过扩展内存缓存以实现扩展缓存容量时，优先扩充内存容量</li>
<li>无法通过扩充内存容量来解决问题时，需要考虑数据分流和增设缓存服务器等方案。当然也可以考虑改善程序以减轻I/O频率</li>
</ul>
</li>
</ol>
<h2 id="何为负载"><a href="#何为负载" class="headerlink" title="何为负载"></a>何为负载</h2><ol>
<li>CPU负载</li>
<li>I/O负载</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://thinknotes.cn/2018/06/06/notes_read_Country_Driving/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dreampython">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="二月鸟的自留地">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/06/notes_read_Country_Driving/" itemprop="url">《寻路中国》笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-06T00:00:00+08:00">
                2018-06-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/读书笔记/" itemprop="url" rel="index">
                    <span itemprop="name">读书笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="第一部城墙"><a href="#第一部城墙" class="headerlink" title="第一部城墙"></a>第一部城墙</h2><ol>
<li>到2001年夏季为止，即我向北京市公安交通管理局提出申请时，我在中国已经居住了五年。之前的那段时间，我出门旅行都是迫于无奈地坐汽车、飞机、轮船或是火车。穿州过省，踏县过镇时，我都在沉沉昏睡中。但如果是驾车出行，一路上人都会脑清目明。这样的情形到处可见：仅在北京，每天差不多就有一千人拿到驾照，他们因此成为中国汽车工业大发展的先锋队。这些人多来自新兴的中产阶级。在他们看来，汽车代表着出行方便、家境宽裕，还有一点赶时髦。可对我来说，它代表着冒险和游历。就连机动车驾驶员理论考试里面的一些试题都说明，这个行当里根本没有想当然的事情：223题驾驶机动车经过积水路段时，你应该：A）加速通过，以免发动机进水。B）停车，检查积水，确认<br>积水较浅时，缓慢通过。C）在路人的带领下通过。282题驾驶机动车通过铁路道口时，你应该：A）加速通过。B）仅在看见火车即将驶来时，才可以加速通过。C）减速，确认安全后通过。</li>
<li>为了防止伪造，驾照上面印制了全息图：一个人站在古式的马车上。那人穿着飘逸的长袍，宛如道家的大思想家老子，一只手臂高高举起，直指远方。<br>3.在为这次旅行做准备工作时，一个北京司机向我推荐了《中国汽车司机地图册》。这本地图册由“中国地图出版社”出版。整个地图册把中国划分成一百五十八个小方格，其中包括了一张台湾的公路图——高速公路用粗大的紫色线条<br>绘制，犹如大动脉；国道用红色线条绘制，犹如连接在较大城市之间的静脉血管。省道用更细的红色线条绘制，绘制县乡道路的线条愈加细小——仿佛是在偏远山区汩汩流淌的毛细血管。</li>
<li>《中国地图》里无名无姓的道路密如蛛网，多如牛毛，要找出一条确切的道路横穿西部，可能性几乎为零。不过另一个符号倒不那么令人迷惑。这个标志出现在东北部的海滨城市山海关，自东向西横贯河北省，一路穿越山西省、陕西省，以及内蒙古自治区。即便进入满地黄沙的宁夏和甘肃，这个标志也十分清晰，仿佛是利落地插入天河的飘带。《中国地图》里面，很容易理解的就是这一部分：甚至在我很小的时候，我也能认出，那就是长城。在我的童年时期，无论何时，只要我看见中国的地图，就会默念：沿着这道城墙，穿越整个国家，多么神奇啊！</li>
<li>在北京，我租了一辆轿车，向着渤海边上的山海关——长城的起点——一路驶去。以那里为起点，我开车向西穿越河北全境，感受了丰收的季节。</li>
<li>1949年，共产党夺取政权后，他们向许许多多的文化传统发起攻击，斥之为封建迷信，其中就包括宗教、算命以及风水推理。邓小平发起的改革政策，提出建立更宽松的环境。即便在那之后，有些行当仍旧一直没有得到恢复——例<br>如，在今天的中国，道教徒极为稀少。但是，人们对风水的信奉已经被证明具有很强的反弹性，主要是因为这个行当有利可图。风水好，就是运程好。所以，人们愿意花钱雇请风水专家。张宝龙（音译）就是新兴的风水先生之一——他<br>论起市场经济时的精明，跟他论地理风水时的精明不差分毫。他的名片上列出了二十七个不同的服务项目，从“选择配偶”到“选择坟地”——这就是“从头到尾一条龙服务”。他可以“上”房梁，选矿址，还可以医治“疑难杂症”。<br>他做过棺材（“自己备木材”），还帮人抬过婚轿。在名片上，第二十一项服务是“迁坟”——在经历着建筑业大发展的国家里，这个活儿很受欢迎。“这个地方是我选的！”张宝龙骄傲地说道，同时用手指了指刚掘出来的一个土堆。<br>在坟前，吊丧者依次叩头：每个人都双膝下跪，烧上一沓纸钱，一边以头磕地，一边嚎啕大哭。似乎没有人在意我的出现。在北方，我了解到，葬礼一般是喜好来客的。还有一个原因是，这里的人很少见过外国人。不过，我还是压低声音问道：“今天葬谁？”张宝龙好像没有听到我的问题，所有的心思都在那土堆上。“东西走向，”他指了指那个土堆，接着说，“头朝西，脚朝东。我栽的那棵树是白杨。男人栽白杨，女人栽柳树，目的是让鬼魂知道哪儿是坟头。这<br>是块好地，有这么几个因素。比如，烽火台的那个位置十分重要。你看，这个地方好，因为地势高，那条小溪的水向东流。上面有烽火台，可以守护坟墓。葬在这个位置的人，会有很多有钱的后人，他们当官、参军、读书都很有出息。”</li>
<li>从1998年开始，政府对乡村道路的建设加大了资金注入，部分原因是为了应对亚洲金融风暴，到我驾车旅行时，这一工程仍旧在进行中。</li>
<li>1793年，一个名叫约翰·巴罗的英国人，游览了北京附近的一段城墙，根据他所观察到的东西进行了推断并由此宣称，整个墙体使用石头的数量可以围绕赤道修建两道稍小一点的城墙。（他并没有意识到，西边的城墙要小很多，而<br>且是用夯土筑成的。）1923年，《国家地理杂志》宣称，人在月球上可以用肉眼看见地球上的长城。（事实上，1923年没人能从月球上看得见长城，现在仍然看不见。）</li>
<li>在中国，开车是个体力活，至少在规则手册里面是这么描述的。法律规定，卡车驾驶员身高至少达到一百五十五厘米，小轿车驾驶员的身高至少到一百五十厘米。要取得驾照，每只手上至少有三个手指功能正常，大拇指是必不可少的。对耳朵的要求，则是双耳能够分辨五十厘米之外的音叉声。不能有红绿色盲。没有癫痫、先天性心脏病、眩晕症，或者美尼尔氏综合症。法律还明确禁止“歇斯底里”型驾驶员上路行驶。如果双腿不等长，且长度差超过五厘米，则<br>属于法律明文禁止的范围，不能操作标准型排挡汽车。</li>
<li>在中国，这个转型期来得太快，很多驾驶员使用道路的方式直接沿用行人使用道路的方式——人们怎么走路，就怎么开车。他们喜欢扎堆前行，只要有可能，总是紧紧跟在别的车辆后面。他们不大使用转向灯。相反，喜欢依赖汽车<br>之间的身体语言：如果一辆车贴着左侧行驶，那么你可以推测得出，它即将进行左转弯。此外，他们还长于即兴发挥。他们可以把人行道作为超车道使用，如果能够快那么一点点的话，他们可以在环岛交叉路口逆向行驶。如果在高速公路上开过了出口，他们会直接开到路肩上，往后倒，然后立马右转下道。每当交通拥堵时，他们喜欢从边上挤过去，跟他们排队买票时的做法如出一辙。收费站也可能十分危险，因为多年排队的经验，使人们形成习惯，总在不断地估量什么才是最佳选择，并以此快速做出判断。驶近收费站时，驾驶员们喜欢在最后一刻变换车道，因此事故频发。驾驶员们很少查看后视镜。挡风玻璃上的雨刮器则被视为妨碍视线，车灯亦然。</li>
<li>不幸的是，驾驶员们仍旧不了解车头灯的玄妙之处。很多人不开灯行车，直到天色一片漆黑时，他们才开启大灯。几乎没有人会在雨天、雾天、雪天，或者光线暗淡的情况下使用灯光——其实，这是让中国的驾驶员颇感烦心的少数<br>几种行为之一。人们不介意你是否在后面跟得太紧、从右侧超车，或是把车开上人行道，就算你把车停在高速路出入口的匝道上，也没有人会眨一下眼睛。可是，如果你在滂沱大雨中开着车灯行驶，对面驶来的驾驶员会毫不例外地把他的车灯闪动几下，以示不满。不过，多数情况下，他们都能够保持镇定自若。很难想象得出还有别的地方，人们用这样糟糕的方式开车，还能从中得到乐趣。在开阔的道路上，似乎每个驾驶员都刚刚从胡同里解放出来——突然加速，展<br>开竞赛，而最惊悚之处，莫过于超越其他车辆。在山坡上，他们要超车；在弯道处，他们要超车；在隧道里，他们要超车。如果被别人超了车，他们会在很短的时间内反超那辆车，就好像在比赛一样。根据</li>
<li>我在中国东南部的一个小城市——丽水，对驾驶课程观察过一个月的时间。这座城市坐落在一个工业带上，由于经济迅猛发展，一大批驾驶新手应运而生。开课单位叫作公安驾校，让我观察的那个班的上课老师叫唐教练。“教练”<br>这个词跟足球教练、体操教练那几个字是一样的，不禁让人联想起严格的军团训练。那正是在中国驾驶汽车的本质特点——体力活。课程一开始，是与汽车进行基本的接触。上课的第一天，唐教练揭开一辆红色大众桑塔纳轿车的引擎盖<br>，六个学员围在一起观看。他指给大家看，哪是发动机，哪是散热器，哪是风扇皮带。走到车尾，唐教练打开了后备厢，教大家怎样拧开油箱盖。接下来，教他们怎样打开驾驶座一侧的车门。“这样拉开，”他一边讲解，学生一边挨个<br>练习把车门打开、再关上。下一步，唐教练教大家认识仪表板，以及离合器、制动踏板、油门踏板。一个小时之后，学员们才得到允许，坐进轿车里面。他们依次坐上驾驶座，练习一至五挡的换挡动作。发动机没有发动，但他们就这样练习使用离合器，扳动变速挡杆。看到这里，让我有些想打退堂鼓。终于，我忍不住问唐教练：“那样做，不是对轿车很不好么？”“没事，”他回答道，“不要紧。”“我觉得，发动机没发动，这样做可能不好。”我又说道。“保证<br>没事，”唐教练坚持道，“我们一直都是这么做的。”在中国，不管是哪个行业的教练，都受到人们的尊重，这是不容置疑的。唐教练已经非常和善，让我观摩他上课，所以我决定就此打住，不再多嘴。可这做起来不是那么容易。接下<br>来的步骤，是学员们练习使用离合器，固定住制动踏板，发动汽车，挂上一挡，一边踩下油门踏板一边松开离合器。在制动踏板的阻力作用下，发动机发出低沉的轰鸣声，随着扭矩加大，引擎盖上下一个接着一个，学员们坐进驾驶座，踩下油门踏板——发动机不断轰鸣着，可就是不让车子挪动半步。那天的课程结束时，桑塔纳轿车的引擎盖上已经可以用来煎鸡蛋。每坐进一个学员，踏下油门踏板，我的手心都会被汗水浸湿。耳朵里回响的，是我父亲的声音——他是<br>个业余机械师，没有什么事情比呆头呆脑地瞎摆弄汽车更让他生气了。直到第二天上课的时候，学员们才被允许开动车辆。从一开始，这些学员就像盲人摸象那样小心翼翼地围着桑塔纳轿车打转：在引擎盖周围挤成一圈查看车辆结构、练习开关车门、拨弄油箱盖。六名学员的性别结构是四男两女，年龄都在四十岁以下。他们之前缴纳过两千多元钱的学费——在基本月工资大概只有五百多块钱的小城市，这算是不小的一个数目。只有一个学员，家里已经买了车。其他<br>人跟我说，也许哪天他们也可能买车。其中的大学生们——一共有四个——相信，驾照会让他们的求职简历增添一些亮色。“这就像游泳，人人都得会一点。”名叫王彦恒（音译）的年轻人这样对我说。他是高年级学生，主修信息技术<br>。“在将来，很多中国人都会买车，”王彦恒说，“重要的是，要会开车。”家里有车的那个同学十九岁，名叫梁艳芳（音译），学社会学专业。她父亲开了一家塑料加工厂，有三辆车。我问她家的工厂生产什么样的塑料，这个女学生<br>用手指摸了摸桑塔纳轿车车窗边上的塑料封条，说：“这种东西，就是我们做的。”这个班用了十天的时间，集中进行场地训练。一段时间里，他们就做三个动作。学员们练习前行直角转弯进入停车点，然后直角弯倒车至停车点。第三<br>项是纵向停车。每一天，整整六个小时的时间里，他们反反复复地练习这三个动作。跟其他的优秀教练一样，唐教练十分严格。“怎么搞的？”一个学员倒车的时候刮到了一根标杆，他立即教训起来。“今天脑子长到哪儿去了？”“换<br>挡的时候不要那么松垮垮的！”他对另一个学员呵斥道，“再这样做，你老爸不骂你才怪！”有时候，他甚至要拍打学员的手臂。只要有学员转头朝后看，他就大吼道：“不要朝后看！”有严格的规章，不允许学员转头后看。倒车的时<br>候，只能依靠后视镜，不能够有盲区——至少在唐教练眼里不允许有盲区。没人系过安全带。在公安驾校的训练场地里，我也从没看见有人打转向灯。接下来的环节是驾驶技术训练，学员们要在障碍车道上练习急转弯，学着将车辆停驻<br>在标线的二十五厘米范围内。最具挑战性的驾驶技术科目是“单边桥”行驶。所谓单边桥，就是一条长长的水泥做成的凸起路段，略超过轮胎宽度。学员们的目标，就是把车调整好位置，对准单边桥径直驶而过，并且不让桥上的两个轮<br>胎掉落下来。学员们先练习左侧轮胎，接着换成右侧，如果有一个轮胎滑落下来，就算考试失败。学员们告诉我，道路训练的十天时间里，他们多数时候是在练习单边桥驾驶。我问唐教练，为什么单边桥那么重要。“因为很难，”他这<br>样回答我。这就是中国的驾校课程里隐含的哲学命题：如果某样东西从技术的角度看起来特别有难度，那么它必定就是有用的。可是，这类极具挑战性的技能却是因地、因教练不同而不同的。除了五十八小时这一点，没有太多其他的客观标准，驾校一会儿强调单边桥行驶，一会儿又想出别的什么障碍行驶技术。从这个意义上来说，驾校教练跟过去那些教人养生之道的武术教练十分相像。时代已经不同了——学生们不必到山顶的寺庙里，每天对着树干拍打数千次，相<br>反，他们参加公安驾校为期两周的驾驶课程学习，学着把桑塔纳轿车稳稳当当地开上单边桥。上路训练十来天后，丽水驾校的课程学习就快要结束了。在他们学习的最后一天，也就是考试的前一天，我跟着一个学习小组上路了。教练坐在副驾驶座上，学员们在一条两车道的山区道路上轮流驾驶一辆桑塔纳轿车，完成一系列的固定动作。从一挡依次换到五挡，然后从五挡依次换回一挡；把车辆停驻在离标线二十五厘米的范围内。之后，学员们要练习原地掉头，在模拟的交通指示灯前停车。学习用的车道有三公里长，十天的训练过程中，这个长度没有丝毫变化。没有交叉路口，路上的车也很少。车辆驶入车道的时候，学员们按照规定鸣笛，转弯的时候同样如此。一路上不管遇到什么——小轿车、农<br>用车、驴拉板车——他们都要鸣笛。哪怕只遇到一个行人，他们也要鸣笛。有时候，他们会超过驾校的另一辆车，这时候两辆车都会欢快地鸣笛，就像两个老朋友见面似的。中午的时候，大家要休息，到附近的餐馆一起吃饭。他们所有<br>人——包括教练——都要喝点啤酒。他们告诉我，就在头一天，他们喝醉了，因此下午没有上课。那天下午比较晚的时候，学员们回去继续进行道路驾驶训练，其中一个学员向我请求，让他开我租来的车进行训练。就在那一瞬间，经过<br>极其简单的考虑，我决定借此看看他们在一个月的训练中收获如何。那个学员开到空旷路段之后，就醉心于超车了，可他不知道到底该怎么做。有那么两次，我只好大吼大叫，让他不要在盲弯处大幅占道转弯。还有一次，我伸手一把抓住方向盘，阻止他撞上另一辆正在他左侧加速超车的车辆。他从不观察后视镜或侧后视镜，他不知道盲区的存在。只要遇到会动的东西，他都要鸣笛。完全忽视交通指示灯的存在，倒还是最次要的问题。他差点撞上了一辆停靠着的拖拉机，距离只有几厘米。他甚至差点撞上一面水泥墙。最后，当车辆进入驾驶训练场的时候，我真想俯下身去亲吻我膝下的单边桥。</li>
<li>在乌审旗，植树所带来的任何效益似乎都是暂时的。江红（音译）是个华裔地理学者，正在这个区做研究工作。她告诉我，那一带的地下水位正在下降。沙漠地区无法承受更多的农业模式，就是种植柳树也不行。不过，江红也注意到，当地人对政府倡导的种植项目持赞同态度，哪怕他们已经了解地下水正在枯竭这一事实。这种情形不同于过去，那时候的人们对政府各种高压式的运动总是持反对态度。曾几何时，各项工程总是显得非常抽象，具有集体的性质：毛泽东曾经宣布，中国的生产要超英赶美，像乌审旗这样的地方的牧民，当然不愿意为了这样的目的而毁坏自己居住的环境。但是，自邓小平主政以来，推动经济发展的，主要是个体的动力，其成果立等可见。而新型的迁徙模式也意味着，许多人已经瞥见了更美好的生活是什么样子。“他们如今见过的世面多了，”江红说，“他们有机会去城里看看，他们在电视上也能看见很多东西。他们想得到更多的、在外面或者电视上看见的那些实际利益。”一句话，人已经变得<br>更加世俗化，只不过，他们跟外界的这种联系在方向上有点迷失。起参考作用的框架不再简单地由乌审旗那一点有限的资源构成，而是由城市里面无限丰富的产品构成。在向别的地方学习的过程中，当地的人们跟他们最亲近的环境已经失去了联系。</li>
<li>离开乌审旗后，我再次越过长城，向南往榆林驶去。我没有打定主意，到底在路上要走多久。夜晚越来越冷，阵阵倦意开始向我袭来。从一开始，我就计划把我的旅程分成两个阶段，这样就能够在秋季和春季两个季节里好好地看看乡村的美景。到了榆林，我打算做一下休整——我很想找张床睡上几个夜晚，好好吃几顿饭，然后决定到底还沿着长城走多远。可最后，当地政府替我做出了决定。榆林是我几个星期以来看到的第一座城市。总人口大约有十万，按照中<br>国的标准来看，这是个小城市。城里的氛围十分舒适，让人不禁舒服得想睡觉。市中心依旧被一段古老的城墙所围绕，街道十分狭窄，汽车大发展的势头还没有蔓延到这个地方来。我住进了当地最好的宾馆，洗了个澡，然后躺下来打算小睡一会。不一会儿，房间里的电话响了起来。打来电话的，是宾馆总台的接待员，她告诉我，大厅里有人要见我。“政府来的。”她说。被吵醒的方式林林总总，这一种最令人心烦。我穿好衣服，走下楼。来人三十出头，穿着深色上<br>衣，绷着脸，非笑，仿佛在告诉我：麻烦来了。“我知道，你是个记者，”他说。他提出要看看我的护照、居留证，还有记者证，我都一一递交给他。他一言不发地查看我那一堆材料，时不时在一摞纸片上做些记录。末了，他抬起头来<br>。“你知道，中国有法律规定，记者应该先申请，然后才能做采访报道，”他说，“你违反了这些规定。”“我只不过参观了一下长城，”我告诉他，“没有必要跟政府的人报告。我也没打算在榆林采访什么人。”“恐怕这都没有关系<br>。你还是得申请。”我向他道了歉，并告诉他，今后我一定提前申请。“我明天就走，你看行不？”我问他。他那似笑非笑的脸绷得更紧了。“恐怕你现在就得离开，”他说。“我能吃了午饭再走吗？”“抱歉，”他回答道，“马上离<br>开。”那人就在大厅里等着，我则上楼去收拾行李。随后，他径直把我送到CitySpecial跟前。跟他一起来的，还有一位警察，他们要确保我离开城区。从榆林出来，我往南开了六个小时，来到延安市。这里是中国革命的摇篮，20世纪3<br>0年代末，毛泽东和其他领导人在此建立了他们的根据地。现在，延安已经变成了一个旅游目的地，我打算在不引起任何人注意的情况下，找家旅馆住下来。可这一次，我的行李都还没有来得及打开，警察就找上门来了。他们已经知道<br>我从哪里来，开什么样的车。或许全省都已收到了警情通报。延安的警察要我马上离开，于是我打定主意，沿着长城的旅行到此为止，到了春天再说。</li>
<li>世纪40年代初，美国军队向中国的西南地区运送吉普车和大卡车，以支援中华民国，却遭遇了大量的交通事故。车辆是按照右侧行驶的习惯设计的，美国驾驶员需要适应中国的道路行驶习惯，于是麻烦不断。美国将军魏德迈提出了一项十分简单的解决方案：中国全境转向美国的驾驶模式。对美国的支持仰仗甚多的蒋介石很快就同意了这一方案。1945年12月31日，日本人早已投降之后，该转变方案正式实施。</li>
<li>20世纪90年代末，安徽省的芜湖市政府决定成立一家汽车制造厂。他们雇请的工程师名叫尹同跃，他之前曾是大众公司的明星人物。在大众公司把韦斯特莫兰报废的FOX生产线搬迁到中国东北的过程中，尹同跃令自己声名大振。在<br>芜湖这个新的工作岗位上，尹同跃很快就将他的上述国际经验进行了充分利用。他首先去了英格兰，从已经过时的福特发动机公司买来一些设备。然后，他又去了西班牙。在那里，他从曾经生产过图雷多轿车、当时正在苦苦挣扎的大众分公司手里获取了生产图纸。图雷多轿车的生产平台——基本框架和主要部件——与捷达轿车相同。偷偷地，尹同跃把英国的福特发动机公司搬回了芜湖，跟西班牙的生产图纸融合在一起，建起了一条组装线。当时国家有严格的制度，<br>禁止新的汽车生产厂家进入市场。于是，芜湖的官员们只能简单地把这家公司叫作“汽车配件”厂。这个厂在1999年5月做出了它的第一台发动机。七个月之后，它制造出了一辆汽车。这台汽车的发动机是福特设计的，车身照着西班牙<br>图纸在大众平台上做成，很多配件则是正宗的捷达配件。芜湖人只不过找到大众汽车的特约供应商，然后跟他们偷偷地做买卖。大众公司为此十分生气，这同样也惹恼了中央政府的人。然而，在改革年代，每个人都知道这条基本的准则：事后求谅解，比事前求许可要容易多了。在长达一年多的时间里，芜湖的领导们跟中央政府进行协商。最终，也就是2001年，他们生产的汽车获准在全国范围内销售。（据报道，他们用钱解决了跟大众公司的问题，后者决定不诉诸法律。）他们给自己的公司取名奇瑞，这两个字在汉语里的含意是好运当头。名字的读音跟英语单词cheery有点接近，但他们用Chery这个词翻译了公司的名字。奇瑞的领导们说，名字里之所以去掉一个英文字母e，表明奇瑞公司永远追求幸福吉祥的理想状态。他们生产的汽车十分廉价，导致全国范围内的汽车降价。因此，差不多是在顷刻之间，他们改变了市场格局。没过多久，奇瑞公布了他们的终极目标：要成为向美国市场出口汽车的第一家中国汽车公司。</li>
<li>回到安寺村的时候，拄拐杖的那位老人正在耐心地等着我们。我了解到，他是那三兄弟的爷爷。他还告诉我，尤其在他们那个地方，计划生育政策执行得并不严格。“人们只要交了罚款，就可以多生，”他笑着说。他还是一点都<br>不关心我是谁，我要做什么。在北方的农村，人们很少起疑心，他们邀请我进去喝茶或者吃饭，基本上很常见。对于农村生活的艰辛，我并未心存幻想，我在美中友好志愿者协会当志愿者的日子里就学会了，不能把贫穷想得太美。不过，在驾车穿越这些即将消失的村镇的过程中，我还是感受到了些许酸楚。那是我瞥见的最后一线生机——最后的小镇，最后的乡村少年，也许还有最后的家庭，兄弟姐妹俱全的大家庭。乡下人特有的诚实与信任，不会随着迁居入城而继<br>续存在。在世界上，陌生人受到毫不迟疑的欢迎，赢得孩子们的信任，这样的地方并不多见。驾车离开安寺村的时候，我有些伤心。</li>
<li>只要经过城镇，不论大小，我总要停下车来，吃顿饭，洗个头。这是些被人遗忘的偏僻之地，偏僻得只能吃点中国经济大发展留下来的残羹冷炙。我看到有些摩托车，在后挡泥板上面贴着一张计算机上使用的光盘，作为很好的反<br>光材料。在一个叫作兴伍营的地方，人们得爬上长城才能收到手机信号。兴伍营的意思是“兴旺发达的军营”，因为明朝曾经在这一带修建过巨大的防御工事。目前，这个村庄非常偏僻，十分贫穷。不过，人们依然在充分利用长城。他<br>们站在城墙上，手机紧贴着面颊，俨然数字时代的哨兵。如果长城变成了手机零件，那会意味着什么呢？或是电脑光盘因为反光而发挥了最大的作用呢？在这样的地方，所有的东西都纠结在一起，分不清哪是进步，哪是即兴之作。<h2 id="第二部村庄"><a href="#第二部村庄" class="headerlink" title="第二部村庄"></a>第二部村庄</h2></li>
<li>2003年春季，人们对于SARS病毒的惊恐横扫全国，一连数周，大城市的人们躲开人群，拒乘公共交通工具。地铁和公共汽车上空无一人，出租车也成了大家怀疑的目标。最终，这种疾病的危险性证明是被人为地夸大了许多，但它<br>对中产阶级的思维模式产生了持久的影响。人们学习开车的灵感被激发出来——2003年，近五十万北京居民拿到了驾照，平均每天达到了一千三百人。</li>
<li>在中国，个人还没有形成信用消费的习惯，欠债会让人感觉很不舒服。信用卡并不常见，更不用说银行贷款了。2003年，那些新涌现出来的汽车买主绝大多数支付的都是现金：申请贷款的比例不到百分之二十。在买一件大东西之<br>前，大多数中国人都要为此存上多年的钱。如果需要筹资，他们也主要依靠家人的帮忙。这样做的结果，是形成了另外一种形式的关系，而魏子淇把这一切都玩了个遍：村子里的政治问题，怀柔商业开辟的新疆域，以及复杂的家庭债务。</li>
<li>在中国，急剧的变化让很多人感到内心空虚，他们觉得共产主义很遥远很渺茫，而移居和城市化则给社会结构带来了巨大的变化。追求财富的新思想则好像很空洞，很容易让人倦怠，很多人都期待着跟他人建立一种更有意义的联<br>系。很多人转而信奉宗教，倒并不一定是他们想跟上帝建立起一种私人联系，而是因为他们想借此与邻居和朋友分享与共担。<h2 id="第三部工厂"><a href="#第三部工厂" class="headerlink" title="第三部工厂"></a>第三部工厂</h2></li>
<li>出城十五六公里远，在下斜村，一排排体育器材堆在一起，一眼望不到边。在街边，到处都摆放着一堆堆秋千架、红色塑料滑梯、或黄或绿的单杠横杆。看不</li>
<li>沿着330国道再往前走十六公里，顺着那条河转过一个弯道，可以看到桥头镇竖立的一座钮扣雕塑。那是用银做成的一个巨大圆盘，宽度为三米，带有双翼，只要有风，双翼就会转动。桥头镇的总人口仅有六万四千人，但全镇范围内有三百八十多家工厂，生产的钮扣占到了中国服装行业需求量的百分之七十。为了</li>
<li>武义年产扑克一百万副，占到了中国国内市场份额的一半。八十公里外，义乌市生产的塑料饮管占全世界总产量的四分之一。一个叫作永康的地方生产的各类衡器占中国产量的百分之九十五。在浙江的另一个地区，菘厦年产雨伞<br>三亿五千万把。汾水专门制笔，上官专门生产乒乓球拍。大唐的袜子产量占全世界的三分之一。全世界一半的领带产自一个叫作嵊州的地方。</li>
<li>在中国的农村，所有的土地都是集体性质的，像魏子淇这样的农民们无权到开放的市场上去出售自己的土地或者房屋。相反，村里面把持着所有的买卖行为。如果某个城市拿定主意要发展到某片农田所在的地方，连村组织也没有<br>多少讨价还价的能力。在这种情况下，城市可以随心所欲地占领土地，他们所支付的价格，是政府早就订好了的。一旦完成出售行为，农民们就得从原来的土地上搬家，城市才能在上面进行基础设施建设，那片地方也就变成了城市。城市的土地使用权可以按照市场价格拍卖给出价最高的一方。这是一种套利交易，从农村买来土地，作为城市土地再次出卖。而这种行为，只有镇以上级别的政府才有资格进行。</li>
<li>跟很多学者一样，王利娜相信，中国政府到头来不得不实行土地私有化政策。有了财产税这一大笔稳定的收入，政府就可以结束现行的房地产思路了，但是现在谁也没有朝这方面进行改革的动机。最遭殃的是那些最没有权力的人<br>——农民们。他们失去的土地实际上为中国的城市化进程提供了补贴，而他们没有任何法律意义上的追索权——要推翻一个村党支书记已经难上加难，更不用说其他的了。不过，大多数农民们一心想的是外出务工，或者变成个体户，因<br>此，他们丝毫不会为修改宪法这样的事情操心。</li>
<li>在工业城镇，人们对于当地政府的态度大多漠不关心。很多人抱怨当地政府官员贪污腐化，可说起这些事情的时候用的尽是些非常抽象的话语，因为他们跟领导干部很少有正面接触。这跟高速公路上的超速罚单十分相似：如果有<br>警察把车子拦下来，找驾驶员的麻烦或者粗暴地施以罚款，驾驶员们可能会勃然大怒。不过，当局在这些方面精明一些。因此，他们常常会找到合适的策略，既弄到了钱，又不让事情太针对个人。最主要的是，老百姓对此能够忍受，有时候甚至甘愿听其摆布。一个工厂的老板告诉我，他为了公共服务方面的事情行过贿。“你得让他们感觉到自己很了不起，”他对我说，“你得给他们送烟，你得请他们吃饭——多少给他们一点面子。如果他们不干这些事情，就只能成<br>天待在办公室。替他们想想吧，他们不能做生意，也不敢做自己感兴趣的事情。他们的日子多无聊啊！”</li>
<li>在石帆，我所遇到的请愿者多数都显得孤注一掷。他们读的书没有一般人多，工作前景没有一般人好，通常跟外出务工者一样时运不济。他们中间有很多人受到过创伤——因为在他们进行请愿的过程中，受到过这样那样的威胁。<br>这些因素加在一起，使他们成功的可能性更小，但他们还是要继续尝试，因为他们已无退路。只有一次，我遇到的上访者给我留下了很有能耐的印象。他把那次会见安排得很周到。我们是通过一个双方都认识的熟人介绍的，见面后他做的第一件事情，就是要看看我那由政府颁发的记者证。在高速公路出口修建的这些城镇里，之前从来没有人这么要求过。“实话实说，我更愿意找别人说这件事情，”他说，“我真想跟哥伦比亚广播公司或者英国广播公司的人说这件事<br>儿。”我很敬重他这一点——他需要的是到电视上去说这件事，而不是接受某个蹩脚的期刊记者的访谈。不过，那一天，我是他手中唯一的选项，所以，我们还是坐下来交谈了一个多小时。他向我抱怨说，没有人知道滩坑大坝到底是怎<br>么通过审批，怎么进行融资的。有传闻说，一些私人投资者会从所产生的电力中获取利益。“如果他们要修建这样的东西，我们有必要知道为什么，”他说，“我们有必要知道，那些投资者是谁。不过，我反对的主要理由，是政府什么<br>也不给我们这些人。仅仅给我们钱和房子是不够的。在这样的地方，人们怎么生活嘛？你看看外面——这儿什么都没有啊。在北山的时候，我们做生意的位置多好啊，因为那是中心位置，周围村子的人都要去那里。”那是我第一次碰到<br>当地人对大坝背后的基本问题显得有所关心。而且，出于原则，他还拒绝接受现金安置。他的穿戴很不错，手里拿着一部价格不菲的手机。于是，我问他靠什么养活自己。“我是做生意的，”他说，“我在这儿开了好几家商店，附近就<br>有一家。”我问他，商店卖些什么东西。“地板砖，”他说。他拒绝接受政府的现金安置，还在设法把他的故事写进新闻报道，可他同时又从这些高速公路出口处的城镇里的建筑工地上获取好处。对于他想保全自己的赌注，我并不打算<br>加以指责——至少他在尽力弄清事情的真相。也许某一天，会有更多的中国人像他一样，想方设法也要坚持了解有关的基本问题。或许教育制度会得到改进，公民们将具有更广阔的视野，可以跟他们的实际技能结合起来。在经济开发区<br>，最让我为之一振的是那些个人主义的迹象——一些人据此摆脱了小村子里的群体思维模式，学会了自己拿主意，自己解决自己的问题。可如果要把他们个人的经验教训用来解决社会层面上的问题，还需要迈出关键性的一步。也许，最<br>终的动机还在于经济——我常常感觉到，中国需要发展到某个点上，让中产阶级和上层人士都感觉到，这样的体系对他们获得成功已经形成了障碍。不过，这种情形还没有发生，即便在高速公路出口的小城镇里也没有发生，因为他们仅<br>凭着卖几块地板砖也能赚到大钱。</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="dreampython" />
            
              <p class="site-author-name" itemprop="name">dreampython</p>
              <p class="site-description motion-element" itemprop="description">这里是二月鸟的自留地，用来记录技术总结、读书笔记、日常杂事等</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">31</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">dreampython</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
